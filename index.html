<!doctype html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#5f27cd">
  <title>MANA HUB - Your Super App</title>
  
  <!-- PWA Meta Tags -->
  <meta name="description" content="MANA HUB - Your one-stop solution for shopping, delivery, services & events across Nirmal District">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="MANA HUB">
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='20' fill='%235f27cd'/><text x='50' y='70' font-size='60' text-anchor='middle' fill='white' font-family='Arial'>M</text></svg>">
  
  <!-- Apple Touch Icons -->
  <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 180 180'><rect width='180' height='180' rx='40' fill='%235f27cd'/><text x='90' y='130' font-size='100' text-anchor='middle' fill='white' font-family='Arial' font-weight='bold'>M</text></svg>">
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiTUFOQSBIVUIiLCJzaG9ydF9uYW1lIjoiTUFOQSBIVUIiLCJkZXNjcmlwdGlvbiI6IllvdXIgb25lLXN0b3Agc29sdXRpb24gZm9yIHNob3BwaW5nLCBkZWxpdmVyeSwgc2VydmljZXMgJiBldmVudHMgYWNyb3NzIE5pcm1hbCBEaXN0cmljdCIsInN0YXJ0X3VybCI6Ii8iLCJkaXNwbGF5Ijoic3RhbmRhbG9uZSIsImJhY2tncm91bmRfY29sb3IiOiIjNWYyN2NkIiwidGhlbWVfY29sb3IiOiIjNWYyN2NkIiwib3JpZW50YXRpb24iOiJwb3J0cmFpdCIsImljb25zIjpbeyJzcmMiOiJkYXRhOmltYWdlL3N2Zyt4bWwsPHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxOTIgMTkyJz48cmVjdCB3aWR0aD0nMTkyJyBoZWlnaHQ9JzE5Micgcng9JzQwJyBmaWxsPSclMjM1ZjI3Y2QnLz48dGV4dCB4PSc5NicgeT0nMTM1JyBmb250LXNpemU9JzEyMCcgdGV4dC1hbmNob3I9J21pZGRsZScgZmlsbD0nd2hpdGUnIGZvbnQtZmFtaWx5PSdBcmlhbCcgZm9udC13ZWlnaHQ9J2JvbGQnPk08L3RleHQ+PC9zdmc+Iiwic2l6ZXMiOiIxOTJ4MTkyIiwidHlwZSI6ImltYWdlL3N2Zyt4bWwifSx7InNyYyI6ImRhdGE6aW1hZ2Uvc3ZnK3htbCw8c3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDUxMiA1MTInPjxyZWN0IHdpZHRoPSc1MTInIGhlaWdodD0nNTEyJyByeD0nMTAwJyBmaWxsPSclMjM1ZjI3Y2QnLz48dGV4dCB4PScyNTYnIHk9JzM3MCcgZm9udC1zaXplPSczMjAnIHRleHQtYW5jaG9yPSdtaWRkbGUnIGZpbGw9J3doaXRlJyBmb250LWZhbWlseT0nQXJpYWwnIGZvbnQtd2VpZ2h0PSdib2xkJz5NPC90ZXh0Pjwvc3ZnPiIsInNpemVzIjoiNTEyeDUxMiIsInR5cGUiOiJpbWFnZS9zdmcreG1sIn1dfQ==">
  
  <script src="/_sdk/data_sdk.js"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #f5f5f5;
      color: #333;
      overflow-x: hidden;
      height: 100%;
      width: 100%;
    }

    /* PWA Loading Screen */
    .pwa-loader {
      position: fixed;
      inset: 0;
      background: linear-gradient(135deg, #5f27cd 0%, #341f97 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      opacity: 1;
      transition: opacity 0.5s ease-out;
    }

    .pwa-loader.hidden {
      opacity: 0;
      pointer-events: none;
    }

    .pwa-logo {
      width: 120px;
      height: 120px;
      border-radius: 24px;
      margin-bottom: 32px;
      animation: logoFloat 2s ease-in-out infinite;
      box-shadow: 0 10px 40px rgba(0,0,0,0.3);
    }

    @keyframes logoFloat {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    .pwa-title {
      font-size: 32px;
      font-weight: 700;
      color: white;
      margin-bottom: 8px;
      text-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }

    .pwa-subtitle {
      font-size: 16px;
      color: rgba(255,255,255,0.9);
      margin-bottom: 40px;
    }

    .pwa-spinner {
      width: 50px;
      height: 50px;
      border: 4px solid rgba(255,255,255,0.3);
      border-top-color: white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .pwa-progress {
      width: 200px;
      height: 4px;
      background: rgba(255,255,255,0.3);
      border-radius: 2px;
      overflow: hidden;
      margin-top: 24px;
    }

    .pwa-progress-bar {
      height: 100%;
      background: white;
      border-radius: 2px;
      animation: progress 2s ease-in-out;
      width: 100%;
    }

    @keyframes progress {
      0% { width: 0%; }
      100% { width: 100%; }
    }

    /* PWA Install Prompt */
    .pwa-install-prompt {
      position: fixed;
      bottom: 80px;
      left: 50%;
      transform: translateX(-50%);
      background: white;
      padding: 16px 24px;
      border-radius: 16px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.2);
      display: none;
      align-items: center;
      gap: 16px;
      z-index: 150;
      max-width: 90%;
      animation: slideUpFade 0.3s ease-out;
    }

    @keyframes slideUpFade {
      from {
        opacity: 0;
        transform: translateX(-50%) translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
      }
    }

    .pwa-install-prompt.show {
      display: flex;
    }

    .pwa-install-icon {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .pwa-install-text {
      flex: 1;
    }

    .pwa-install-title {
      font-size: 14px;
      font-weight: 700;
      color: #333;
      margin-bottom: 2px;
    }

    .pwa-install-subtitle {
      font-size: 12px;
      color: #666;
    }

    .pwa-install-btn {
      padding: 10px 20px;
      background: linear-gradient(135deg, #5f27cd, #341f97);
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      white-space: nowrap;
    }

    .pwa-install-close {
      width: 24px;
      height: 24px;
      background: #f0f0f0;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      border: none;
      color: #666;
      font-size: 18px;
      line-height: 1;
    }

    /* Social Media Browser Warning */
    .social-browser-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.95);
      z-index: 9999;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .social-browser-overlay.show {
      display: flex;
    }

    .social-browser-popup {
      background: white;
      border-radius: 24px;
      padding: 32px 24px;
      max-width: 400px;
      width: 100%;
      text-align: center;
      animation: socialPopupIn 0.3s ease-out;
    }

    @keyframes socialPopupIn {
      from {
        opacity: 0;
        transform: scale(0.9) translateY(20px);
      }
      to {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
    }

    .social-browser-icon {
      width: 80px;
      height: 80px;
      margin: 0 auto 20px;
      background: linear-gradient(135deg, #ff6b6b, #ee5a6f);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: iconPulse 2s infinite;
    }

    @keyframes iconPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .social-browser-icon svg {
      width: 40px;
      height: 40px;
      fill: white;
    }

    .social-browser-title {
      font-size: 22px;
      font-weight: 700;
      color: #333;
      margin-bottom: 12px;
    }

    .social-browser-message {
      font-size: 15px;
      color: #666;
      line-height: 1.6;
      margin-bottom: 24px;
    }

    .social-browser-app {
      display: inline-block;
      padding: 6px 14px;
      background: #f0f0f0;
      border-radius: 20px;
      font-size: 13px;
      font-weight: 600;
      color: #5f27cd;
      margin-bottom: 24px;
    }

    .social-browser-steps {
      text-align: left;
      background: #f8f8f8;
      padding: 20px;
      border-radius: 16px;
      margin-bottom: 24px;
    }

    .social-browser-step {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      margin-bottom: 16px;
      font-size: 14px;
      color: #666;
      line-height: 1.5;
    }

    .social-browser-step:last-child {
      margin-bottom: 0;
    }

    .social-browser-step-number {
      width: 28px;
      height: 28px;
      background: linear-gradient(135deg, #5f27cd, #341f97);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 13px;
      font-weight: 700;
      flex-shrink: 0;
    }

    .social-browser-buttons {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .social-browser-btn {
      padding: 14px 24px;
      border-radius: 12px;
      border: none;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .social-browser-btn:active {
      transform: scale(0.98);
    }

    .btn-open-chrome {
      background: linear-gradient(135deg, #4285F4, #357AE8);
      color: white;
    }

    .btn-copy-link {
      background: #f0f0f0;
      color: #333;
    }

    .btn-continue-anyway {
      background: transparent;
      color: #999;
      font-size: 13px;
      padding: 10px;
    }

    .social-browser-warning {
      display: flex;
      align-items: center;
      gap: 8px;
      justify-content: center;
      padding: 12px;
      background: #fff3cd;
      border-radius: 12px;
      margin-bottom: 20px;
    }

    .social-browser-warning svg {
      width: 20px;
      height: 20px;
      fill: #856404;
      flex-shrink: 0;
    }

    .social-browser-warning-text {
      font-size: 12px;
      color: #856404;
      text-align: left;
      line-height: 1.4;
    }

    html {
      height: 100%;
      width: 100%;
    }

    .app-wrapper {
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    /* Header */
    .app-header {
      position: sticky;
      top: 0;
      z-index: 100;
      background: linear-gradient(135deg, #5f27cd 0%, #341f97 100%);
      padding: 10px 16px;
      display: flex;
      align-items: center;
      gap: 12px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.15);
      border-radius: 0 0 16px 16px;
    }

    .logo-container {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo-img {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid white;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }

    .app-title {
      font-size: 18px;
      font-weight: 700;
      color: white;
      letter-spacing: 0.5px;
    }

    .header-btns {
      display: flex;
      gap: 6px;
      margin-left: auto;
    }

    .header-btn {
      width: 38px;
      height: 38px;
      border-radius: 50%;
      background: rgba(255,255,255,0.2);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s;
      border: none;
    }

    .header-btn:active {
      transform: scale(0.9);
      background: rgba(255,255,255,0.3);
    }

    .header-btn svg {
      width: 20px;
      height: 20px;
      fill: white;
    }

    /* Main Content */
    .main-container {
      flex: 1;
      overflow-y: auto;
      overflow-x: hidden;
      padding-bottom: 80px;
    }

    /* Search Overlay */
    .search-popup {
      position: fixed;
      inset: 0;
      background: white;
      z-index: 999;
      display: none;
      flex-direction: column;
    }

    .search-popup.active {
      display: flex;
    }

    .search-top {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 16px;
      background: linear-gradient(135deg, #5f27cd 0%, #341f97 100%);
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      border-radius: 0 0 16px 16px;
    }

    .back-icon {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: rgba(255,255,255,0.2);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      border: none;
      color: white;
    }

    .back-icon svg {
      width: 20px;
      height: 20px;
      fill: white;
    }

    .search-box {
      flex: 1;
      position: relative;
    }

    .search-field {
      width: 100%;
      padding: 10px 40px 10px 16px;
      border: none;
      border-radius: 24px;
      background: white;
      font-size: 15px;
    }

    .search-field:focus {
      outline: none;
    }

    .clear-icon {
      position: absolute;
      right: 8px;
      top: 50%;
      transform: translateY(-50%);
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background: #e0e0e0;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      border: none;
      color: #666;
    }

    .clear-icon svg {
      width: 14px;
      height: 14px;
      fill: #666;
    }

    .search-content {
      flex: 1;
      overflow-y: auto;
      padding: 16px;
    }

    .result-group {
      margin-bottom: 24px;
    }

    .result-heading {
      font-size: 13px;
      font-weight: 600;
      color: #666;
      margin-bottom: 12px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .result-card {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      background: white;
      border-radius: 12px;
      margin-bottom: 8px;
      cursor: pointer;
      box-shadow: 0 1px 3px rgba(0,0,0,0.08);
    }

    .result-card:active {
      transform: scale(0.98);
      background: #f8f8f8;
    }

    .result-badge {
      width: 42px;
      height: 42px;
      border-radius: 10px;
      background: linear-gradient(135deg, #5f27cd, #341f97);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .result-badge svg {
      width: 22px;
      height: 22px;
      fill: white;
    }

    .result-text {
      flex: 1;
    }

    .result-title {
      font-size: 15px;
      font-weight: 600;
      color: #333;
    }

    .result-subtitle {
      font-size: 13px;
      color: #999;
      margin-top: 2px;
    }

    /* Banner Carousel */
    .banner-slider {
      position: relative;
      height: 180px;
      overflow: hidden;
      background: #e0e0e0;
      border-radius: 16px;
      margin: 8px 16px 0 16px;
    }

    .banner-item {
      position: absolute;
      width: 100%;
      height: 100%;
      opacity: 0;
      transition: opacity 0.6s;
    }

    .banner-item.active {
      opacity: 1;
    }

    .banner-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .slider-dots {
      position: absolute;
      bottom: 12px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 6px;
      z-index: 10;
    }

    .slider-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: rgba(255,255,255,0.5);
      transition: all 0.3s;
    }

    .slider-dot.active {
      background: white;
      width: 24px;
      border-radius: 4px;
    }

    /* Section */
    .content-section {
      padding: 20px 16px;
      background: white;
      margin-top: 2px;
    }

    .section-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }

    .section-heading {
      font-size: 18px;
      font-weight: 700;
      color: #333;
    }

    .view-all {
      color: #5f27cd;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
    }

    /* Navigation Grid */
    .nav-matrix {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
    }

    .nav-tile {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      padding: 16px 8px;
      background: #f8f8f8;
      border-radius: 16px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .nav-tile:active {
      transform: scale(0.95);
      background: #f0f0f0;
    }

    .nav-symbol {
      width: 56px;
      height: 56px;
      border-radius: 16px;
      background: linear-gradient(135deg, #5f27cd, #341f97);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 12px rgba(95, 39, 205, 0.25);
    }

    .nav-symbol svg {
      width: 28px;
      height: 28px;
      fill: white;
    }

    .nav-text {
      font-size: 13px;
      font-weight: 600;
      color: #333;
      text-align: center;
    }

    /* Timer Banner */
    .promo-banner {
      margin: 8px 16px;
      padding: 24px 20px;
      background: linear-gradient(135deg, #ee0979, #ff6a00);
      color: white;
      text-align: center;
      position: relative;
      overflow: hidden;
      border-radius: 16px;
    }

    .promo-heading {
      font-size: 22px;
      font-weight: 700;
      margin-bottom: 8px;
      text-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }

    .countdown {
      font-size: 32px;
      font-weight: 700;
      letter-spacing: 3px;
      font-family: 'Courier New', monospace;
    }

    /* Product Cards */
    .product-row {
      display: flex;
      gap: 12px;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      padding-bottom: 8px;
    }

    .product-row::-webkit-scrollbar {
      height: 4px;
    }

    .product-row::-webkit-scrollbar-thumb {
      background: #d0d0d0;
      border-radius: 2px;
    }

    .product-tile {
      flex: 0 0 140px;
      border-radius: 12px;
      overflow: hidden;
      background: white;
      cursor: pointer;
      scroll-snap-align: start;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      transition: all 0.2s;
    }

    .product-tile:active {
      transform: translateY(-4px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    .product-pic {
      width: 100%;
      height: 140px;
      object-fit: cover;
    }

    .product-details {
      padding: 10px;
    }

    .product-title {
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 6px;
      color: #333;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .special-tag {
      display: inline-block;
      background: #fff3cd;
      color: #856404;
      padding: 4px 8px;
      border-radius: 6px;
      font-size: 11px;
      font-weight: 600;
    }

    /* Feature Grid */
    .feature-matrix {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }

    .feature-box {
      padding: 16px;
      background: #f8f8f8;
      border-radius: 12px;
      display: flex;
      align-items: center;
      gap: 12px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .feature-box:active {
      transform: scale(0.98);
      background: #f0f0f0;
    }

    .feature-symbol {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      background: linear-gradient(135deg, #5f27cd, #341f97);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .feature-symbol svg {
      width: 24px;
      height: 24px;
      fill: white;
    }

    .feature-content {
      flex: 1;
    }

    .feature-title {
      font-size: 14px;
      font-weight: 600;
      color: #333;
    }

    .feature-subtitle {
    font-size: 11px;
      color: #999;
      margin-top: 2px;
    }

    /* Service Cards */
    .service-matrix {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }

    .service-box {
      border-radius: 12px;
      overflow: hidden;
      background: white;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      transition: all 0.2s;
    }

    .service-box:active {
      transform: translateY(-4px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    .service-pic {
      width: 100%;
      height: 120px;
      object-fit: cover;
    }

    .service-details {
      padding: 12px;
    }

    .service-title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 4px;
      color: #333;
    }

    .service-subtitle {
      font-size: 12px;
      color: #999;
    }

    /* Icon Circle */
    .icon-circle {
      width: 64px;
      height: 64px;
      border-radius: 50%;
      background: linear-gradient(135deg, #5f27cd, #341f97);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 12px rgba(95, 39, 205, 0.25);
    }

    .icon-circle svg {
      width: 32px;
      height: 32px;
      fill: white;
    }

    /* Partner Section */
    .partner-box {
      display: flex;
      gap: 16px;
      padding: 20px;
      background: white;
      margin-top: 2px;
      cursor: pointer;
    }

    .partner-pic {
      width: 120px;
      height: 160px;
      border-radius: 12px;
      object-fit: cover;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    .partner-details {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .partner-heading {
      font-size: 18px;
      font-weight: 700;
      color: #333;
      margin-bottom: 8px;
    }

    .partner-text {
      font-size: 14px;
      color: #666;
      line-height: 1.6;
      margin-bottom: 12px;
    }

    .partner-action {
      padding: 10px 20px;
      background: linear-gradient(135deg, #5f27cd, #341f97);
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
    }

    /* Testimonials */
    .testimonial-slider {
      position: relative;
      height: 180px;
      overflow: hidden;
      border-radius: 12px;
    }

    .testimonial-item {
      position: absolute;
      width: 100%;
      height: 100%;
      opacity: 0;
      transition: opacity 0.6s;
      padding: 20px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .testimonial-item.active {
      opacity: 1;
    }

    .testimonial-wrapper {
      background: #f8f8f8;
      padding: 16px;
      border-radius: 12px;
      border-left: 4px solid #5f27cd;
    }

    .testimonial-quote {
      font-size: 14px;
      line-height: 1.6;
      color: #666;
      margin-bottom: 12px;
      font-style: italic;
    }

    .testimonial-author {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .author-pic {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid #5f27cd;
    }

    .author-details {
      flex: 1;
    }

    .author-title {
      font-size: 14px;
      font-weight: 600;
      color: #333;
    }

    .author-location {
      font-size: 12px;
      color: #999;
    }

    .review-stars {
      color: #fbbf24;
      font-size: 14px;
    }

    /* Store Page */
    .store-top {
      background: white;
      padding: 12px 16px;
      position: sticky;
      top: 0;
      z-index: 50;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      border-radius: 0 0 16px 16px;
    }

    .store-searchbox {
      position: relative;
    }

    .store-input {
      width: 100%;
      padding: 12px 16px 12px 44px;
      border: 1px solid #e0e0e0;
      border-radius: 24px;
      background: #f8f8f8;
      font-size: 14px;
    }

    .store-input:focus {
      outline: none;
      border-color: #5f27cd;
      background: white;
    }

    .search-symbol {
      position: absolute;
      left: 14px;
      top: 50%;
      transform: translateY(-50%);
      width: 20px;
      height: 20px;
    }

    .search-symbol svg {
      width: 20px;
      height: 20px;
      fill: #999;
    }

    .category-bar {
      display: flex;
      gap: 8px;
      overflow-x: auto;
      padding: 12px 16px;
      background: white;
      position: sticky;
      top: 60px;
      z-index: 49;
      border-bottom: 1px solid #f0f0f0;
    }

    .category-bar::-webkit-scrollbar {
      display: none;
    }

    .category-badge {
      flex-shrink: 0;
      padding: 8px 16px;
      border: 1px solid #e0e0e0;
      border-radius: 20px;
      background: white;
      cursor: pointer;
      font-size: 13px;
      font-weight: 500;
      transition: all 0.2s;
      color: #666;
    }

    .category-badge.active {
      background: #5f27cd;
      color: white;
      border-color: #5f27cd;
    }

    .category-badge:active {
      transform: scale(0.95);
    }

    .store-matrix {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 8px;
      padding: 8px;
      background: #f8f8f8;
    }

    .store-card {
      background: white;
      border-radius: 8px;
      overflow: hidden;
      border: 1px solid #e8e8e8;
      display: flex;
      flex-direction: column;
      position: relative;
    }

    .product-img-wrapper {
      position: relative;
      width: 100%;
      padding-top: 100%;
      background: #f9f9f9;
      overflow: hidden;
    }

    .store-img {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .wishlist-btn {
      position: absolute;
      top: 6px;
      right: 6px;
      width: 26px;
      height: 26px;
      border-radius: 50%;
      background: white;
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
      z-index: 2;
      transition: all 0.2s;
    }

    .wishlist-btn:active {
      transform: scale(0.9);
    }

    .wishlist-btn.active {
      background: #ffe0e0;
    }

    .wishlist-btn svg {
      width: 14px;
      height: 14px;
    }

    .store-info {
      padding: 8px;
      display: flex;
      flex-direction: column;
      gap: 4px;
      flex: 1;
    }

    .store-name {
      font-size: 12px;
      font-weight: 600;
      color: #333;
      line-height: 1.3;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
      min-height: 31px;
    }

    .product-rating {
      display: flex;
      align-items: center;
      gap: 4px;
      font-size: 10px;
    }

    .rating-badge {
      background: #0d8b4c;
      color: white;
      padding: 1px 4px;
      border-radius: 3px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 2px;
      font-size: 9px;
    }

    .rating-count {
      color: #999;
      font-size: 9px;
    }

    .product-price {
      display: flex;
      align-items: center;
      gap: 4px;
      flex-wrap: wrap;
    }

    .current-price {
      font-size: 13px;
      font-weight: 700;
      color: #333;
    }

    .original-price {
      font-size: 10px;
      color: #999;
      text-decoration: line-through;
    }

    .discount-badge {
      background: #fff3cd;
      color: #856404;
      padding: 1px 4px;
      border-radius: 3px;
      font-size: 9px;
      font-weight: 600;
    }

    .delivery-info {
      margin-top: 2px;
    }

    .free-delivery {
      display: inline-block;
      color: #0d8b4c;
      font-size: 9px;
      font-weight: 600;
    }

    .product-actions {
      padding: 0 8px 8px 8px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .qty-input-wrapper {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 4px 8px;
      background: #f8f8f8;
      border-radius: 6px;
    }

    .qty-label {
      font-size: 11px;
      font-weight: 600;
      color: #666;
    }

    .qty-input {
      flex: 1;
      border: 1px solid #e0e0e0;
      border-radius: 4px;
      padding: 4px 8px;
      font-size: 12px;
      font-weight: 600;
      text-align: center;
      background: white;
    }

    .qty-input:focus {
      outline: none;
      border-color: #5f27cd;
    }

    .action-buttons {
      display: flex;
      gap: 6px;
    }

    .btn-add-cart {
      flex: 1;
      padding: 7px;
      background: linear-gradient(135deg, #5f27cd, #341f97);
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 11px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 3px;
    }

    .btn-add-cart:active {
      transform: scale(0.97);
    }

    .btn-add-cart.in-cart {
      background: #0d8b4c;
    }

    .btn-wishlist-bottom {
      width: 36px;
      padding: 7px;
      background: white;
      color: #666;
      border: 1px solid #e0e0e0;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .btn-wishlist-bottom:active {
      transform: scale(0.97);
    }

    .btn-wishlist-bottom.active {
      background: #ffe0e0;
      border-color: #ff6b6b;
    }

    .btn-wishlist-bottom svg {
      width: 14px;
      height: 14px;
    }

    /* Event Cards */
    .event-box {
      border-radius: 12px;
      overflow: hidden;
      background: white;
      margin-bottom: 12px;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      transition: all 0.2s;
    }

    .event-box:active {
      transform: translateY(-4px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    .event-pic {
      width: 100%;
      height: 180px;
      object-fit: cover;
    }

    .event-details {
      padding: 16px;
    }

    .event-heading {
      font-size: 16px;
      font-weight: 700;
      margin-bottom: 8px;
      color: #333;
    }

    .event-meta {
      display: flex;
      gap: 16px;
      font-size: 12px;
      color: #999;
      margin-bottom: 12px;
    }

    .event-tag {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    /* Bottom Navigation */
    .bottom-bar {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: white;
      display: flex;
      justify-content: space-around;
      padding: 8px 0 12px;
      box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
      z-index: 100;
    }

    .nav-button {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      cursor: pointer;
      flex: 1;
      padding: 8px;
      border-radius: 12px;
      transition: all 0.2s;
      color: #999;
      border: none;
      background: none;
    }

    .nav-button.active {
      color: #5f27cd;
    }

    .nav-button:active {
      transform: scale(0.95);
    }

    .nav-emoji {
      width: 24px;
      height: 24px;
    }

    .nav-emoji svg {
      width: 24px;
      height: 24px;
      fill: currentColor;
    }

    .nav-label {
      font-size: 11px;
      font-weight: 500;
    }

    /* Floating Buttons */
    .float-button {
      position: fixed;
      right: 16px;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 4px 16px rgba(0,0,0,0.3);
      transition: all 0.3s;
      z-index: 90;
      border: none;
    }

    .float-button:active {
      transform: scale(0.9);
    }

    .float-button svg {
      width: 28px;
      height: 28px;
      fill: white;
    }

    .float-whatsapp {
      bottom: 88px;
      background: #25d366;
    }

    .float-cart {
      bottom: 152px;
      background: linear-gradient(135deg, #5f27cd, #341f97);
      display: none;
    }

    .float-cart.show {
      display: flex;
    }

    .float-wishlist {
      bottom: 216px;
      background: linear-gradient(135deg, #ff6b6b, #ee5a6f);
      display: none;
    }

    .float-wishlist.show {
      display: flex;
    }

    .cart-count {
      position: absolute;
      top: -4px;
      right: -4px;
      background: #ef4444;
      color: white;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 700;
      border: 2px solid white;
    }

    /* Modals */
    .popup-screen {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      display: none;
      align-items: flex-end;
      justify-content: center;
      z-index: 200;
    }

    .popup-screen.active {
      display: flex;
    }

    .popup-screen.center {
      align-items: center;
    }

    .popup-box {
      background: white;
      border-radius: 24px 24px 0 0;
      width: 100%;
      max-height: 85%;
      overflow-y: auto;
      animation: slideUp 0.3s;
      padding: 24px;
    }

    @keyframes slideUp {
      from { transform: translateY(100%); }
      to { transform: translateY(0); }
    }

    .popup-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 16px;
      border-bottom: 1px solid #f0f0f0;
    }

    .popup-heading {
      font-size: 20px;
      font-weight: 700;
      color: #333;
    }

    .popup-exit {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: #f8f8f8;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: #666;
      border: none;
    }

    .popup-exit svg {
      width: 16px;
      height: 16px;
      fill: #666;
    }

    /* Welcome Popup */
    .welcome-popup {
      background: white;
      border-radius: 24px;
      width: 90%;
      max-width: 400px;
      padding: 32px 24px;
      text-align: center;
      animation: scaleIn 0.3s;
    }

    @keyframes scaleIn {
      from { transform: scale(0.8); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    .welcome-logo {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      margin: 0 auto 20px;
      border: 4px solid #5f27cd;
      box-shadow: 0 8px 24px rgba(95, 39, 205, 0.3);
      object-fit: cover;
    }

    .welcome-title {
      font-size: 28px;
      font-weight: 700;
      color: #333;
      margin-bottom: 12px;
    }

    .welcome-subtitle {
      font-size: 16px;
      color: #666;
      margin-bottom: 24px;
      line-height: 1.6;
    }

    .welcome-features {
      text-align: left;
      margin: 24px 0;
      padding: 20px;
      background: #f8f8f8;
      border-radius: 12px;
    }

    .welcome-feature {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 12px;
      font-size: 14px;
      color: #666;
    }

    .welcome-feature:last-child {
      margin-bottom: 0;
    }

    .feature-icon {
      width: 32px;
      height: 32px;
      background: linear-gradient(135deg, #5f27cd, #341f97);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .feature-icon svg {
      width: 18px;
      height: 18px;
      fill: white;
    }

    .welcome-btn {
      width: 100%;
      padding: 16px;
      background: linear-gradient(135deg, #5f27cd, #341f97);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      margin-top: 24px;
    }

    .welcome-btn:active {
      transform: scale(0.98);
    }

    /* Location Popup */
    .location-popup {
      background: white;
      border-radius: 24px;
      width: 90%;
      max-width: 400px;
      padding: 24px;
      max-height: 80%;
      overflow-y: auto;
      animation: scaleIn 0.3s;
    }

    .location-header {
      text-align: center;
      margin-bottom: 24px;
    }

    .location-icon {
      width: 64px;
      height: 64px;
      background: linear-gradient(135deg, #5f27cd, #341f97);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 16px;
    }

    .location-icon svg {
      width: 32px;
      height: 32px;
      fill: white;
    }

    .location-title {
      font-size: 22px;
      font-weight: 700;
      color: #333;
      margin-bottom: 8px;
    }

    .location-subtitle {
      font-size: 14px;
      color: #666;
      line-height: 1.6;
    }

    .location-search {
      position: relative;
      margin-bottom: 20px;
    }

    .location-search-input {
      width: 100%;
      padding: 12px 16px 12px 44px;
      border: 1px solid #e0e0e0;
      border-radius: 12px;
      font-size: 14px;
      background: #f8f8f8;
    }

    .location-search-input:focus {
      outline: none;
      border-color: #5f27cd;
      background: white;
    }

    .location-search-icon {
      position: absolute;
      left: 14px;
      top: 50%;
      transform: translateY(-50%);
      width: 20px;
      height: 20px;
    }

    .location-search-icon svg {
      width: 20px;
      height: 20px;
      fill: #999;
    }

    .location-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .location-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 14px;
      background: #f8f8f8;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.2s;
      border: 2px solid transparent;
    }

    .location-item:hover {
      background: #f0f0f0;
    }

    .location-item:active {
      transform: scale(0.98);
    }

    .location-item.selected {
      background: #ede7f6;
      border-color: #5f27cd;
    }

    .location-item-icon {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, #5f27cd, #341f97);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .location-item-icon svg {
      width: 22px;
      height: 22px;
      fill: white;
    }

    .location-item-text {
      flex: 1;
    }

    .location-item-name {
      font-size: 15px;
      font-weight: 600;
      color: #333;
      margin-bottom: 2px;
    }

    .location-item-phone {
      font-size: 12px;
      color: #666;
    }

    .location-item-phone {
      font-size: 12px;
      color: #666;
    }

    .location-confirm-btn {
      width: 100%;
      padding: 16px;
      background: linear-gradient(135deg, #5f27cd, #341f97);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      margin-top: 20px;
    }

    .location-confirm-btn:active {
      transform: scale(0.98);
    }

    .location-confirm-btn:disabled {
      background: #d0d0d0;
      cursor: not-allowed;
    }

    /* Form */
    .input-group {
      margin-bottom: 16px;
    }

    .input-tag {
      display: block;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 8px;
      color: #333;
    }

    .input-box {
      width: 100%;
      padding: 12px 16px;
      border: 1px solid #e0e0e0;
      border-radius: 12px;
      font-size: 14px;
      background: #f8f8f8;
    }

    .input-box:focus {
      outline: none;
      border-color: #5f27cd;
      background: white;
    }

    .input-box:disabled {
      background: #e0e0e0;
      color: #999;
    }

    .action-btn {
      width: 100%;
      padding: 14px;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      transition: all 0.2s;
    }

    .btn-primary {
      background: linear-gradient(135deg, #5f27cd, #341f97);
      color: white;
    }

    .btn-whatsapp {
      background: #25d366;
      color: white;
    }

    .action-btn:active {
      transform: scale(0.98);
    }

    .page-view {
      display: none;
    }

    .page-view.active {
      display: block;
    }

    /* Cart Items */
    .cart-list {
      margin-bottom: 16px;
    }

    .cart-entry {
      display: flex;
      gap: 12px;
      padding: 12px;
      background: #f8f8f8;
      border-radius: 12px;
      margin-bottom: 12px;
    }

    .cart-pic {
      width: 70px;
      height: 70px;
      border-radius: 8px;
      object-fit: cover;
    }

    .cart-content {
      flex: 1;
    }

    .cart-name {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 4px;
      color: #333;
    }

    .cart-qty {
      font-size: 12px;
      color: #666;
    }

    .cart-delete {
      cursor: pointer;
      color: #ef4444;
      font-size: 20px;
      padding: 4px;
    }

    .cart-total {
      background: #f8f8f8;
      padding: 16px;
      border-radius: 12px;
      margin-top: 16px;
    }

    .total-line {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      font-size: 14px;
      color: #666;
    }

    .total-line.final {
      font-size: 18px;
      font-weight: 700;
      color: #333;
      padding-top: 8px;
      border-top: 1px solid #e0e0e0;
      margin-top: 8px;
    }

    .blank-state {
      text-align: center;
      padding: 40px 20px;
    }

    .blank-emoji {
      font-size: 64px;
      margin-bottom: 16px;
      opacity: 0.3;
    }

    .blank-heading {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 8px;
      color: #333;
    }

    .blank-text {
      font-size: 14px;
      color: #999;
    }

    /* Benefits List */
    .benefits-box {
      background: #f8f8f8;
      padding: 20px;
      border-radius: 12px;
      margin-top: 20px;
    }

    .benefits-heading {
      font-size: 16px;
      font-weight: 700;
      margin-bottom: 12px;
      color: #333;
    }

    .benefits-list {
      list-style: none;
      padding: 0;
    }

    .benefit-item {
      padding: 8px 0;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 14px;
      color: #666;
    }

    .check-icon {
      color: #10b981;
      font-weight: 700;
      font-size: 16px;
    }

    /* More Page Styles */
    .hero-vertical-banner {
      position: relative;
      height: 100%;
      overflow: hidden;
      background: #000;
    }

    .hero-slide {
      position: absolute;
      width: 100%;
      height: 100%;
      opacity: 0;
      transition: opacity 0.8s ease-in-out;
    }

    .hero-slide.active {
      opacity: 1;
    }

    .hero-slide-img {
      width: 100%;
      height: 600px;
      object-fit: cover;
      filter: brightness(0.6);
    }

    .hero-overlay {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 40px 24px;
      background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }

    .hero-heading {
      font-size: 28px;
      font-weight: 700;
      color: white;
      margin-bottom: 8px;
      text-shadow: 0 2px 8px rgba(0,0,0,0.5);
    }

    .hero-tagline {
      font-size: 16px;
      color: rgba(255,255,255,0.9);
      margin-bottom: 24px;
    }

    .hero-buttons {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .hero-btn {
      padding: 12px 24px;
      border-radius: 24px;
      border: none;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.2s;
    }

    .btn-whatsapp-hero {
      background: #25d366;
      color: white;
    }

    .btn-location-hero {
      background: white;
      color: #333;
    }

    .hero-btn:active {
      transform: scale(0.95);
    }

    .hero-dots {
      position: absolute;
      bottom: 12px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 8px;
      z-index: 10;
    }

    .hero-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: rgba(255,255,255,0.5);
      transition: all 0.3s;
    }

    .hero-dot.active {
      background: white;
      width: 24px;
      border-radius: 4px;
    }

    /* Theme Grid */
    .theme-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }

    .theme-card {
      background: white;
      border-radius: 12px;
      overflow: hidden;
      border: 2px solid #f0f0f0;
      cursor: pointer;
      transition: all 0.2s;
    }

    .theme-card:active {
      transform: scale(0.98);
    }

    .theme-card.selected {
      border-color: #5f27cd;
      box-shadow: 0 4px 12px rgba(95, 39, 205, 0.2);
    }

    .theme-preview {
      width: 100%;
      height: 120px;
      object-fit: cover;
    }

    .theme-info {
      padding: 12px;
      text-align: center;
    }

    .theme-name {
      font-size: 14px;
      font-weight: 600;
      color: #333;
      margin-bottom: 8px;
    }

    .theme-apply-btn {
      width: 100%;
      padding: 8px;
      background: linear-gradient(135deg, #5f27cd, #341f97);
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }

    .theme-apply-btn:active {
      transform: scale(0.97);
    }

    /* About Section */
    .about-wrapper {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .about-image {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 12px;
    }

    .about-content {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .about-text {
      font-size: 14px;
      line-height: 1.6;
      color: #666;
    }

    /* Contact Cards */
    .contact-cards {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }

    .contact-card {
      background: white;
      border-radius: 12px;
      padding: 24px 16px;
      text-align: center;
      border: 1px solid #f0f0f0;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .contact-icon {
      margin: 0 auto 12px;
      width: 56px;
      height: 56px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .contact-title {
      font-size: 16px;
      font-weight: 700;
      color: #333;
      margin-bottom: 8px;
    }

    .contact-description {
      font-size: 13px;
      color: #999;
      margin-bottom: 16px;
    }

    /* Refer Section */
    .refer-section {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border-radius: 16px;
      margin: 8px 16px;
    }

    .refer-section .section-heading {
      color: white;
    }

    .refer-content {
      display: flex;
      flex-direction: column;
      gap: 24px;
    }

    .refer-steps {
      display: flex;
      justify-content: space-around;
      gap: 16px;
    }

    .refer-step {
      flex: 1;
      text-align: center;
    }

    .refer-step-number {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: rgba(255,255,255,0.2);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      font-weight: 700;
      margin: 0 auto 12px;
      border: 2px solid white;
    }

    .refer-step-text {
      font-size: 13px;
      line-height: 1.4;
    }

    .refer-link-box {
      background: rgba(255,255,255,0.1);
      padding: 16px;
      border-radius: 12px;
    }

    .refer-label {
      display: block;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .refer-url-wrapper {
      display: flex;
      gap: 8px;
    }

    .refer-url-input {
      flex: 1;
      padding: 12px;
      border: none;
      border-radius: 8px;
      background: white;
      color: #333;
      font-size: 14px;
    }

    .copy-btn {
      padding: 12px 16px;
      background: #5f27cd;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .copy-btn:active {
      transform: scale(0.95);
    }

    .refer-buttons {
      display: flex;
      gap: 12px;
    }

    .refer-buttons .action-btn {
      flex: 1;
    }

    /* Brands Grid */
    .brands-grid {
      display: grid;
      grid-template-columns: repeat(1, 1fr);
      gap: 16px;
    }

    .brand-card {
      background: white;
      border-radius: 12px;
      overflow: hidden;
      border: 1px solid #f0f0f0;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }

    .brand-logo {
      width: 100%;
      height: 180px;
      object-fit: cover;
    }

    .brand-name {
      font-size: 18px;
      font-weight: 700;
      color: #333;
      padding: 16px 16px 8px;
    }

    .brand-description {
      font-size: 14px;
      color: #666;
      padding: 0 16px 16px;
    }

    .brand-buttons {
      display: flex;
      gap: 8px;
      padding: 0 16px 16px;
    }

    .brand-btn {
      flex: 1;
      padding: 10px;
      border: none;
      border-radius: 8px;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }

    .btn-visit {
      background: linear-gradient(135deg, #5f27cd, #341f97);
      color: white;
    }

    .btn-contact {
      background: #25d366;
      color: white;
    }

    .brand-btn:active {
      transform: scale(0.97);
    }

    /* Tiffin Subscription Plans */
    .tiffin-plan-card {
      background: white;
      border-radius: 16px;
      padding: 20px;
      border: 2px solid #f0f0f0;
      position: relative;
      overflow: hidden;
      transition: all 0.3s;
    }

    .tiffin-plan-card:active {
      transform: scale(0.98);
    }

    .tiffin-plan-card.popular {
      border-color: #5f27cd;
      box-shadow: 0 4px 20px rgba(95, 39, 205, 0.15);
    }

    .tiffin-plan-badge {
      position: absolute;
      top: 12px;
      right: 12px;
      background: linear-gradient(135deg, #5f27cd, #341f97);
      color: white;
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 11px;
      font-weight: 700;
      text-transform: uppercase;
    }

    .tiffin-plan-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 16px;
    }

    .tiffin-plan-icon {
      width: 56px;
      height: 56px;
      background: linear-gradient(135deg, #ff6b6b, #ee5a6f);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      flex-shrink: 0;
    }

    .tiffin-plan-title {
      font-size: 18px;
      font-weight: 700;
      color: #333;
      margin-bottom: 4px;
    }

    .tiffin-plan-subtitle {
      font-size: 13px;
      color: #666;
    }

    .tiffin-plan-price {
      display: flex;
      align-items: baseline;
      gap: 8px;
      margin-bottom: 16px;
      padding: 16px 0;
      border-top: 1px solid #f0f0f0;
      border-bottom: 1px solid #f0f0f0;
    }

    .tiffin-price-amount {
      font-size: 32px;
      font-weight: 700;
      color: #333;
    }

    .tiffin-price-period {
      font-size: 14px;
      color: #999;
    }

    .tiffin-price-original {
      font-size: 16px;
      color: #999;
      text-decoration: line-through;
      margin-left: auto;
    }

    .tiffin-plan-features {
      list-style: none;
      padding: 0;
      margin-bottom: 20px;
    }

    .tiffin-plan-feature {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 8px 0;
      font-size: 13px;
      color: #666;
    }

    .tiffin-feature-icon {
      width: 20px;
      height: 20px;
      background: #10b981;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 12px;
      font-weight: 700;
      flex-shrink: 0;
    }

    .tiffin-plan-buttons {
      display: flex;
      gap: 8px;
    }

    .tiffin-btn {
      flex: 1;
      padding: 12px;
      border: none;
      border-radius: 10px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }

    .tiffin-btn-primary {
      background: linear-gradient(135deg, #ff6b6b, #ee5a6f);
      color: white;
    }

    .tiffin-btn-secondary {
      background: #f8f8f8;
      color: #333;
    }

    .tiffin-btn:active {
      transform: scale(0.97);
    }

    /* Legal Cards */
    .legal-cards {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }

    .legal-card {
      background: white;
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      border: 1px solid #f0f0f0;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      cursor: pointer;
      transition: all 0.2s;
    }

    .legal-card:active {
      transform: translateY(-4px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    .legal-icon {
      margin: 0 auto 12px;
      width: 64px;
      height: 64px;
      background: #f8f8f8;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .legal-title {
      font-size: 14px;
      font-weight: 700;
      color: #333;
      margin-bottom: 6px;
    }

    .legal-description {
      font-size: 12px;
      color: #999;
    }

    /* Legal Document Viewer */
    .legal-document {
      padding: 0;
      max-height: 85%;
    }

    .legal-content {
      padding: 24px;
      overflow-y: auto;
      max-height: calc(85vh - 80px);
    }

    .legal-section {
      margin-bottom: 24px;
    }

    .legal-section-title {
      font-size: 16px;
      font-weight: 700;
      color: #333;
      margin-bottom: 12px;
    }

    .legal-section-text {
      font-size: 13px;
      color: #666;
      line-height: 1.8;
      margin-bottom: 12px;
    }

    .legal-list {
      list-style: none;
      padding-left: 0;
    }

    .legal-list li {
      font-size: 13px;
      color: #666;
      line-height: 1.8;
      margin-bottom: 8px;
      padding-left: 20px;
      position: relative;
    }

    .legal-list li:before {
      content: "";
      position: absolute;
      left: 0;
      color: #5f27cd;
      font-weight: bold;
    }

    .legal-highlight {
      background: #fff3cd;
      padding: 12px;
      border-radius: 8px;
      border-left: 3px solid #ffc107;
      margin: 16px 0;
    }

    .legal-highlight p {
      font-size: 13px;
      color: #856404;
      margin: 0;
      line-height: 1.6;
    }

    @media (min-width: 768px) {
      .app-wrapper {
        max-width: 480px;
        margin: 0 auto;
        box-shadow: 0 0 30px rgba(0,0,0,0.1);
      }

      .brands-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      .contact-cards {
        grid-template-columns: repeat(2, 1fr);
      }

      .legal-cards {
        grid-template-columns: repeat(2, 1fr);
      }
    }
  </style>
</head>
<body class="h-full">
  <!-- Social Media Browser Warning -->
  <div class="social-browser-overlay" id="socialBrowserOverlay">
    <div class="social-browser-popup">
      <div class="social-browser-icon">
        <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>
      </div>
      <h2 class="social-browser-title">Better Experience Available</h2>
      <div class="social-browser-app" id="detectedBrowserName">Instagram Browser</div>
      <p class="social-browser-message">For the best experience with full features like location services, we recommend opening MANA HUB in your default browser.</p>
      
      <div class="social-browser-warning">
        <svg viewBox="0 0 24 24"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>
        <span class="social-browser-warning-text">Some features may not work properly in social media browsers</span>
      </div>

      <div class="social-browser-steps">
        <div class="social-browser-step">
          <div class="social-browser-step-number">1</div>
          <span>Tap the <strong>three dots menu ()</strong> at the top</span>
        </div>
        <div class="social-browser-step">
          <div class="social-browser-step-number">2</div>
          <span>Select <strong>"Open in Browser"</strong> or <strong>"Open in Chrome"</strong></span>
        </div>
        <div class="social-browser-step">
          <div
            class="social-browser-step-number">3</div>
          <span>Enjoy full functionality!</span>
        </div>
      </div>

      <div class="social-browser-buttons">
        <button class="social-browser-btn btn-open-chrome" onclick="openInExternalBrowser()">
          <svg viewBox="0 0 24 24" width="20" height="20" fill="white"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
          Open in Browser
        </button>
        <button class="social-browser-btn btn-copy-link" onclick="copyCurrentURL()">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="#333"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>
          Copy Link
        </button>
        <button class="social-browser-btn btn-continue-anyway" onclick="continueInSocialBrowser()">
          Continue Anyway (Limited Features)
        </button>
      </div>
    </div>
  </div>

  <!-- PWA Loading Screen -->
  <div class="pwa-loader" id="pwaLoader">
    <img src="https://images.unsplash.com/photo-1557821552-17105176677c?w=240&h=240&fit=crop&crop=center" alt="MANA HUB" class="pwa-logo">
    <h1 class="pwa-title">MANA HUB</h1>
    <p class="pwa-subtitle">Your Super App</p>
    <div class="pwa-spinner"></div>
    <div class="pwa-progress">
      <div class="pwa-progress-bar"></div>
    </div>
  </div>

  <!-- PWA Install Prompt -->
  <div class="pwa-install-prompt" id="pwaInstallPrompt">
    <img src="https://images.unsplash.com/photo-1557821552-17105176677c?w=96&h=96&fit=crop&crop=center" alt="MANA HUB" class="pwa-install-icon">
    <div class="pwa-install-text">
      <div class="pwa-install-title">Install MANA HUB</div>
      <div class="pwa-install-subtitle">Add to home screen for quick access</div>
    </div>
    <button class="pwa-install-btn" id="pwaInstallBtn">Install</button>
    <button class="pwa-install-close" id="pwaInstallClose"></button>
  </div>

  <div class="app-wrapper">
    <!-- Header -->
    <header class="app-header">
      <div class="logo-container">
        <img src="https://images.unsplash.com/photo-1557821552-17105176677c?w=100&h=100&fit=crop&crop=center" alt="MANA HUB" class="logo-img">
        <span class="app-title" id="appName">MANA HUB</span>
      </div>
      <div class="header-btns">
        <button class="header-btn" onclick="makeCall()" aria-label="Call">
          <svg viewBox="0 0 24 24"><path d="M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z"/></svg>
        </button>
        <button class="header-btn" onclick="openLocationPicker()" aria-label="Location">
          <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
        </button>
        <button class="header-btn" onclick="refreshLoc()" aria-label="Refresh">
          <svg viewBox="0 0 24 24"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>
        </button>
        <button class="header-btn" onclick="openSearchPanel()" aria-label="Search">
          <svg viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
        </button>
      </div>
    </header>

    <!-- Search Overlay -->
    <div class="search-popup" id="searchPanel">
      <div class="search-top">
        <button class="back-icon" onclick="closeSearchPanel()">
          <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
        </button>
        <div class="search-box">
          <input type="text" class="search-field" id="searchQuery" placeholder="Search products, services, events..." oninput="runSearch()">
          <button class="clear-icon" onclick="clearSearchField()">
            <svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
          </button>
        </div>
      </div>
      <div class="search-content" id="searchOutput"></div>
    </div>

    <!-- Main Content -->
    <main class="main-container" id="mainView">
      <!-- HOME PAGE -->
      <div class="page-view active" id="homePage">
        <!-- Banner Carousel -->
        <div class="banner-slider">
          <div class="banner-item active">
            <img src="https://images.unsplash.com/photo-1557821552-17105176677c?w=800&h=400&fit=crop" alt="Banner 1">
          </div>
          <div class="banner-item">
            <img src="https://images.unsplash.com/photo-1556740758-90de374c12ad?w=800&h=400&fit=crop" alt="Banner 2">
          </div>
          <div class="banner-item">
            <img src="https://images.unsplash.com/photo-1492684223066-81342ee5ff30?w=800&h=400&fit=crop" alt="Banner 3">
          </div>
          <div class="banner-item">
            <img src="https://images.unsplash.com/photo-1565688534245-05d6b5be184a?w=800&h=400&fit=crop" alt="Banner 4">
          </div>
          <div class="banner-item">
            <img src="https://images.unsplash.com/photo-1556740714-a8395b3bf30f?w=800&h=400&fit=crop" alt="Banner 5">
          </div>
          <div class="slider-dots">
            <div class="slider-dot active"></div>
            <div class="slider-dot"></div>
            <div class="slider-dot"></div>
            <div class="slider-dot"></div>
            <div class="slider-dot"></div>
          </div>
        </div>

        <!-- Page Navigation 3x3 -->
        <div class="content-section">
          <div class="nav-matrix">
            <div class="nav-tile" onclick="goToPage('store')">
              <div class="nav-symbol">
                <svg viewBox="0 0 24 24"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/></svg>
              </div>
              <div class="nav-text">Store</div>
            </div>
            <div class="nav-tile" onclick="goToPage('delivery')">
              <div class="nav-symbol">
                <svg viewBox="0 0 24 24"><path d="M18 18.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zm1.5-9H17V12h4.46L19.5 9.5zM6 18.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM20 8l3 4v5h-2c0 1.66-1.34 3-3 3s-3-1.34-3-3H9c0 1.66-1.34 3-3 3s-3-1.34-3-3H1V6c0-1.11.89-2 2-2h14v4h3zM3 6v9h.76c.55-.61 1.35-1 2.24-1 .89 0 1.69.39 2.24 1H15V6H3z"/></svg>
              </div>
              <div class="nav-text">Delivery</div>
            </div>
            <div class="nav-tile" onclick="goToPage('business')">
              <div class="nav-symbol">
                <svg viewBox="0 0 24 24"><path d="M20 7h-4V5l-2-2h-4L8 5v2H4c-1.1 0-2 .9-2 2v5c0 .75.4 1.38 1 1.73V19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-3.28c.59-.35 1-.99 1-1.72V9c0-1.1-.9-2-2-2zM10 5h4v2h-4V5zM4 9h16v5h-5v-3H9v3H4V9zm9 6h-2v-2h2v2zm6 4H5v-3h4v1h6v-1h4v3z"/></svg>
              </div>
              <div class="nav-text">Business</div>
            </div>
            <div class="nav-tile" onclick="goToPage('events')">
              <div class="nav-symbol">
                <svg viewBox="0 0 24 24"><path d="M7 10h2v2H7v-2zm0 4h2v2H7v-2zm4-4h2v2h-2v-2zm0 4h2v2h-2v-2zm4-4h2v2h-2v-2zm0 4h2v2h-2v-2z"/><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"/></svg>
              </div>
              <div class="nav-text">Events</div>
            </div>
            <div class="nav-tile" onclick="goToPage('market')">
              <div class="nav-symbol">
                <svg viewBox="0 0 24 24"><path d="M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"/></svg>
              </div>
              <div class="nav-text">Market</div>
            </div>
            <div class="nav-tile" onclick="goToPage('special')">
              <div class="nav-symbol">
                <svg viewBox="0 0 24 24"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"/></svg>
              </div>
              <div class="nav-text">Special</div>
            </div>
            <div class="nav-tile" onclick="goToPage('join')">
              <div class="nav-symbol">
                <svg viewBox="0 0 24 24"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
              </div>
              <div class="nav-text">Join Now</div>
            </div>
            <div class="nav-tile" onclick="goToPage('services')">
              <div class="nav-symbol">
                <svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
              </div>
              <div class="nav-text">Services</div>
            </div>
            <div class="nav-tile" onclick="goToPage('more')">
              <div class="nav-symbol">
                <svg viewBox="0 0 24 24"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>
              </div>
              <div class="nav-text">More</div>
            </div>
          </div>
        </div>

        <!-- Timer Offer Banner -->
        <div class="promo-banner" onclick="goToPage('special')" style="cursor: pointer;">
          <div class="promo-heading" id="promoText"> LIMITED TIME OFFER</div>
          <div class="countdown" id="timerCount">00:00:00</div>
          <div style="font-size: 13px; margin-top: 8px; opacity: 0.95;"> Tap to view special offers</div>
        </div>



        <!-- Quick Access Features -->
        <div class="content-section">
          <div class="section-top">
            <h2 class="section-heading">Quick Access</h2>
          </div>
          <div class="feature-matrix">
            <div class="feature-box" onclick="showForm('Express Delivery', 'Quick Access', 'Home')">
              <div class="feature-symbol">
                <svg viewBox="0 0 24 24"><path d="M7 2v11h3v9l7-12h-4l4-8z"/></svg>
              </div>
              <div class="feature-content">
                <div class="feature-title">Express Delivery</div>
                <div class="feature-subtitle">Same day delivery</div>
              </div>
            </div>
            <div class="feature-box" onclick="showForm('Tiffin Service', 'Quick Access', 'Home')">
              <div class="feature-symbol">
                <svg viewBox="0 0 24 24"><path d="M18.06 22.99h1.66c.84 0 1.53-.64 1.63-1.46L23 5.05h-5V1h-1.97v4.05h-4.97l.3 2.34c1.71.47 3.31 1.32 4.27 2.26 1.44 1.42 2.43 2.89 2.43 5.29v8.05zM1 21.99V21h15.03v.99c0 .55-.45 1-1.01 1H2.01c-.56 0-1.01-.45-1.01-1zm15.03-7c0-8-15.03-8-15.03 0h15.03zM1.02 17h15v2h-15z"/></svg>
              </div>
              <div class="feature-content">
                <div class="feature-title">Tiffin Service</div>
                <div class="feature-subtitle">Fresh daily meals</div>
              </div>
            </div>
            <div class="feature-box" onclick="showForm('Gift Delivery', 'Quick Access', 'Home')">
              <div class="feature-symbol">
                <svg viewBox="0 0 24 24"><path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"/></svg>
              </div>
              <div class="feature-content">
                <div class="feature-title">Gift Delivery</div>
                <div class="feature-subtitle">Surprise someone</div>
              </div>
            </div>
            <div class="feature-box" onclick="showForm('Business Support', 'Quick Access', 'Home')">
              <div class="feature-symbol">
                <svg viewBox="0 0 24 24"><path d="M20 7h-4V5l-2-2h-4L8 5v2H4c-1.1 0-2 .9-2 2v5c0 .75.4 1.38 1 1.73V19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-3.28c.59-.35 1-.99 1-1.72V9c0-1.1-.9-2-2-2zM10 5h4v2h-4V5zM4 9h16v5h-5v-3H9v3H4V9zm9 6h-2v-2h2v2zm6 4H5v-3h4v1h6v-1h4v3z"/></svg>
              </div>
              <div class="feature-content">
                <div class="feature-title">Business Support</div>
                <div class="feature-subtitle">Grow your business</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Featured Products -->
        <div class="content-section">
          <div class="section-top">
            <h2 class="section-heading">Featured Products</h2>
            <div class="view-all" onclick="goToPage('store')">View All </div>
          </div>
          <div class="product-row" id="featuredProducts"></div>
        </div>

        <!-- Rest of home page content omitted for brevity but remains unchanged -->
      </div>

        <!-- STORE PAGE -->
      <div class="page-view" id="storePage">
        <div class="store-top">
          <div class="store-searchbox">
            <div class="search-symbol">
              <svg viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
            </div>
            <input type="text" class="store-input" placeholder="Search products..." oninput="filterStore()">
          </div>
        </div>
        
        <div class="category-bar">
          <div class="category-badge active" onclick="setFilter('all')">All</div>
          <div class="category-badge" onclick="setFilter('electronics')">Electronics</div>
          <div class="category-badge" onclick="setFilter('fashion')">Fashion</div>
          <div class="category-badge" onclick="setFilter('home')">Home & Kitchen</div>
          <div class="category-badge" onclick="setFilter('beauty')">Beauty</div>
          <div class="category-badge" onclick="setFilter('sports')">Sports</div>
          <div class="category-badge" onclick="setFilter('books')">Books</div>
        </div>
        
        <div class="store-matrix" id="storeGrid"></div>
      </div>

      <!-- DELIVERY PAGE -->
      <div class="page-view" id="deliveryPage">
        <div class="content-section">
          <div class="section-top">
            <h2 class="section-heading">Delivery Services</h2>
          </div>
          
          <div class="service-matrix">
            <div class="service-box" onclick="showForm('Same Day Delivery', 'Delivery Services', 'Delivery')">
              <img src="https://images.unsplash.com/photo-1566576912321-d58ddd7a6088?w=400&h=300&fit=crop" alt="Same Day" class="service-pic">
              <div class="service-details">
                <div class="service-title">Same Day Delivery</div>
                <div class="service-subtitle">Within 24 hours</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('Express Delivery', 'Delivery Services', 'Delivery')">
              <img src="https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=400&h=300&fit=crop" alt="Express" class="service-pic">
              <div class="service-details">
                <div class="service-title">Express Delivery</div>
                <div class="service-subtitle">Within 2-4 hours</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('Scheduled Delivery', 'Delivery Services', 'Delivery')">
              <img src="https://images.unsplash.com/photo-1600880292203-757bb62b4baf?w=400&h=300&fit=crop" alt="Scheduled" class="service-pic">
              <div class="service-details">
                <div class="service-title">Scheduled Delivery</div>
                <div class="service-subtitle">Choose your time</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('Bulk Delivery', 'Delivery Services', 'Delivery')">
              <img src="https://images.unsplash.com/photo-1605902711834-8b11c3e3ef2f?w=400&h=300&fit=crop" alt="Bulk" class="service-pic">
              <div class="service-details">
                <div class="service-title">Bulk Delivery</div>
                <div class="service-subtitle">Large orders</div>
              </div>
            </div>
          </div>
        </div>

        <div class="content-section">
          <div class="section-top">
            <h2 class="section-heading">Food Delivery</h2>
          </div>
          
          <div class="service-matrix">
            <div class="service-box" onclick="showForm('Restaurant Delivery', 'Food Delivery', 'Delivery')">
              <img src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=400&h=300&fit=crop" alt="Restaurant" class="service-pic">
              <div class="service-details">
                <div class="service-title">Restaurant Delivery</div>
                <div class="service-subtitle">Hot & fresh meals</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('Tiffin Service', 'Food Delivery', 'Delivery')">
              <img src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400&h=300&fit=crop" alt="Tiffin" class="service-pic">
              <div class="service-details">
                <div class="service-title">Tiffin Service</div>
                <div class="service-subtitle">Daily meal plans</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- BUSINESS PAGE -->
      <div class="page-view" id="businessPage">
        <div class="content-section">
          <div class="section-top">
            <h2 class="section-heading">Business Services</h2>
          </div>
          
          <div class="feature-matrix">
            <div class="feature-box" onclick="showForm('Register Your Business', 'Business Services', 'Business')">
              <div class="feature-symbol">
                <svg viewBox="0 0 24 24"><path d="M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"/></svg>
              </div>
              <div class="feature-content">
                <div class="feature-title">Register Business</div>
                <div class="feature-subtitle">Join our platform</div>
              </div>
            </div>
            
            <div class="feature-box" onclick="showForm('List Your Products', 'Business Services', 'Business')">
              <div class="feature-symbol">
                <svg viewBox="0 0 24 24"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z"/></svg>
              </div>
              <div class="feature-content">
                <div class="feature-title">List Products</div>
                <div class="feature-subtitle">Sell online</div>
              </div>
            </div>
            
            <div class="feature-box" onclick="showForm('Business Analytics', 'Business Services', 'Business')">
              <div class="feature-symbol">
                <svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/></svg>
              </div>
              <div class="feature-content">
                <div class="feature-title">Analytics</div>
                <div class="feature-subtitle">Track performance</div>
              </div>
            </div>
            
            <div class="feature-box" onclick="showForm('Marketing Support', 'Business Services', 'Business')">
              <div class="feature-symbol">
                <svg viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/></svg>
              </div>
              <div class="feature-content">
                <div class="feature-title">Marketing</div>
                <div class="feature-subtitle">Grow your reach</div>
              </div>
            </div>
          </div>
        </div>

        <div class="content-section">
          <div class="section-top">
            <h2 class="section-heading">Partnership Benefits</h2>
          </div>
          
          <div class="benefits-box">
            <ul class="benefits-list">
              <li class="benefit-item"><span class="check-icon"></span> Zero commission for first month</li>
              <li class="benefit-item"><span class="check-icon"></span> Free business listing</li>
              <li class="benefit-item"><span class="check-icon"></span> Dedicated support manager</li>
              <li class="benefit-item"><span class="check-icon"></span> Marketing & promotion support</li>
              <li class="benefit-item"><span class="check-icon"></span> Analytics dashboard</li>
              <li class="benefit-item"><span class="check-icon"></span> Quick payment settlement</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- EVENTS PAGE -->
      <div class="page-view" id="eventsPage">
        <div class="content-section">
          <div class="section-top">
            <h2 class="section-heading">Upcoming Events</h2>
          </div>
          
          <div class="event-box" onclick="showForm('Nirmal Food Festival', 'Event Registration', 'Events')">
            <img src="https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800&h=400&fit=crop" alt="Food Festival" class="event-pic">
            <div class="event-details">
              <div class="event-heading">Nirmal Food Festival</div>
              <div class="event-meta">
                <div class="event-tag"> Dec 25-27, 2024</div>
                <div class="event-tag"> Nirmal Stadium</div>
              </div>
              <p style="font-size: 14px; color: #666; line-height: 1.6;">Join us for a 3-day celebration of local cuisine, street food, and culinary traditions.</p>
            </div>
          </div>
          
          <div class="event-box" onclick="showForm('Business Expo 2024', 'Event Registration', 'Events')">
            <img src="https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=800&h=400&fit=crop" alt="Business Expo" class="event-pic">
            <div class="event-details">
              <div class="event-heading">Business Expo 2024</div>
              <div class="event-meta">
                <div class="event-tag"> Jan 10-12, 2025</div>
                <div class="event-tag"> Convention Center</div>
              </div>
              <p style="font-size: 14px; color: #666; line-height: 1.6;">Network with entrepreneurs, explore opportunities, and showcase your business.</p>
            </div>
          </div>
          
          <div class="event-box" onclick="showForm('Tech Summit', 'Event Registration', 'Events')">
            <img src="https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=800&h=400&fit=crop" alt="Tech Summit" class="event-pic">
            <div class="event-details">
              <div class="event-heading">Tech Summit</div>
              <div class="event-meta">
                <div class="event-tag"> Feb 5, 2025</div>
                <div class="event-tag"> Online & Nirmal</div>
              </div>
              <p style="font-size: 14px; color: #666; line-height: 1.6;">Learn about latest technology trends and digital transformation strategies.</p>
            </div>
          </div>
        </div>

        <div class="content-section">
          <div class="section-top">
            <h2 class="section-heading">Event Services</h2>
          </div>
          
          <div class="service-matrix">
            <div class="service-box" onclick="showForm('Wedding Planning', 'Event Services', 'Events')">
              <img src="https://images.unsplash.com/photo-1519225421980-715cb0215aed?w=400&h=300&fit=crop" alt="Wedding" class="service-pic">
              <div class="service-details">
                <div class="service-title">Wedding Planning</div>
                <div class="service-subtitle">Complete solutions</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('Corporate Events', 'Event Services', 'Events')">
              <img src="https://images.unsplash.com/photo-1511578314322-379afb476865?w=400&h=300&fit=crop" alt="Corporate" class="service-pic">
              <div class="service-details">
                <div class="service-title">Corporate Events</div>
                <div class="service-subtitle">Professional setup</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('Birthday Parties', 'Event Services', 'Events')">
              <img src="https://images.unsplash.com/photo-1530103862676-de8c9debad1d?w=400&h=300&fit=crop" alt="Birthday" class="service-pic">
              <div class="service-details">
                <div class="service-title">Birthday Parties</div>
                <div class="service-subtitle">Memorable celebrations</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('Custom Events', 'Event Services', 'Events')">
              <img src="https://images.unsplash.com/photo-1492684223066-81342ee5ff30?w=400&h=300&fit=crop" alt="Custom" class="service-pic">
              <div class="service-details">
                <div class="service-title">Custom Events</div>
                <div class="service-subtitle">Your unique vision</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- MARKET PAGE -->
      <div class="page-view" id="marketPage">
        <div class="store-top">
          <div class="store-searchbox">
            <div class="search-symbol">
              <svg viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
            </div>
            <input type="text" class="store-input" placeholder="Search market products..." oninput="filterMarket()">
          </div>
        </div>
        
        <div class="category-bar">
          <div class="category-badge active" onclick="setMarketFilter('all')">All</div>
          <div class="category-badge" onclick="setMarketFilter('local')">Local Products</div>
          <div class="category-badge" onclick="setMarketFilter('rental')">Rental Items</div>
          <div class="category-badge" onclick="setMarketFilter('preowned')">Pre-Owned</div>
        </div>
        
        <div class="store-matrix" id="marketGrid"></div>
      </div>

      <!-- SPECIAL PAGE -->
      <div class="page-view" id="specialPage">
        <div class="content-section">
          <div class="section-top">
            <h2 class="section-heading">Special Offers</h2>
          </div>
          
          <div class="promo-banner" style="margin: 0;">
            <div class="promo-heading"> GRAND OPENING SALE</div>
            <div style="font-size: 18px; margin-top: 12px;">Up to 50% OFF</div>
          </div>
        </div>

        <!-- Dabbawala Tiffin Service -->
        <div class="content-section">
          <div class="section-top">
            <h2 class="section-heading"> Dabbawala Tiffin Delivery</h2>
          </div>
          
          <div style="background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%); color: white; padding: 20px; border-radius: 16px; margin-bottom: 20px; text-align: center;">
            <div style="font-size: 20px; font-weight: 700; margin-bottom: 8px;">Pick & Deliver Your Tiffin Boxes</div>
            <div style="font-size: 14px; opacity: 0.95;">We Pick Up From Your Home  Deliver to Your Destination</div>
          </div>

          <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-bottom: 20px;">
            <div style="background: #f8f8f8; padding: 16px; border-radius: 12px; text-align: center;">
              <div style="font-size: 32px; margin-bottom: 8px;"></div>
              <div style="font-size: 13px; font-weight: 600; color: #333; margin-bottom: 4px;">Home Pickup</div>
              <div style="font-size: 11px; color: #999;">We collect your tiffin</div>
            </div>
            <div style="background: #f8f8f8; padding: 16px; border-radius: 12px; text-align: center;">
              <div style="font-size: 32px; margin-bottom: 8px;"></div>
              <div style="font-size: 13px; font-weight: 600; color: #333; margin-bottom: 4px;">Fast Delivery</div>
              <div style="font-size: 11px; color: #999;">On-time guaranteed</div>
            </div>
            <div style="background: #f8f8f8; padding: 16px; border-radius: 12px; text-align: center;">
              <div style="font-size: 32px; margin-bottom: 8px;"></div>
              <div style="font-size: 13px; font-weight: 600; color: #333; margin-bottom: 4px;">Daily Service</div>
              <div style="font-size: 11px; color: #999;">Lunch & Dinner</div>
            </div>
            <div style="background: #f8f8f8; padding: 16px; border-radius: 12px; text-align: center;">
              <div style="font-size: 32px; margin-bottom: 8px;"></div>
              <div style="font-size: 13px; font-weight: 600; color: #333; margin-bottom: 4px;">Reliable</div>
              <div style="font-size: 11px; color: #999;">Trusted service</div>
            </div>
          </div>

            <div style="font-size: 16px; font-weight: 700; margin-bottom: 16px; color: #333;">Tiffin Delivery Subscription Plans:</div>
          
          <!-- Tiffin Subscription Plans Grid -->
          <div style="display: grid; grid-template-columns: 1fr; gap: 12px;" id="tiffinPlans"></div>
        </div>

        <!-- General Delivery Subscription Plans -->
        <div class="content-section">
          <div class="section-top">
            <h2 class="section-heading"> Delivery Subscription Plans</h2>
          </div>
          
          <div style="background: linear-gradient(135deg, #5f27cd 0%, #341f97 100%); color: white; padding: 20px; border-radius: 16px; margin-bottom: 20px; text-align: center;">
            <div style="font-size: 20px; font-weight: 700; margin-bottom: 8px;">Fast & Reliable Delivery Service</div>
            <div style="font-size: 14px; opacity: 0.95;">Unlimited Deliveries  Priority Support  Express Service</div>
          </div>

          <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-bottom: 20px;">
            <div style="background: #f8f8f8; padding: 16px; border-radius: 12px; text-align: center;">
              <div style="font-size: 32px; margin-bottom: 8px;"></div>
              <div style="font-size: 13px; font-weight: 600; color: #333; margin-bottom: 4px;">Express Delivery</div>
              <div style="font-size: 11px; color: #999;">2-4 hours delivery</div>
            </div>
            <div style="background: #f8f8f8; padding: 16px; border-radius: 12px; text-align: center;">
              <div style="font-size: 32px; margin-bottom: 8px;"></div>
              <div style="font-size: 13px; font-weight: 600; color: #333; margin-bottom: 4px;">Live Tracking</div>
              <div style="font-size: 11px; color: #999;">Track your orders</div>
            </div>
            <div style="background: #f8f8f8; padding: 16px; border-radius: 12px; text-align: center;">
              <div style="font-size: 32px; margin-bottom: 8px;"></div>
              <div style="font-size: 13px; font-weight: 600; color: #333; margin-bottom: 4px;">Anywhere</div>
              <div style="font-size: 11px; color: #999;">Within Nirmal District</div>
            </div>
            <div style="background: #f8f8f8; padding: 16px; border-radius: 12px; text-align: center;">
              <div style="font-size: 32px; margin-bottom: 8px;"></div>
              <div style="font-size: 13px; font-weight: 600; color: #333; margin-bottom: 4px;">Priority</div>
              <div style="font-size: 11px; color: #999;">Premium support</div>
            </div>
          </div>

          <div style="font-size: 16px; font-weight: 700; margin-bottom: 16px; color: #333;">Choose Your Delivery Plan:</div>
          
          <!-- General Delivery Plans Grid -->
          <div style="display: grid; grid-template-columns: 1fr; gap: 12px;" id="deliveryPlans"></div>
        </div>

        <div class="content-section">
          <div class="section-top">
            <h2 class="section-heading">Today's Deals</h2>
          </div>
          <div class="product-row" id="specialDeals"></div>
        </div>
      </div>

      <!-- JOIN PAGE -->
      <div class="page-view" id="joinPage">
        <div class="partner-box">
          <img src="https://images.unsplash.com/photo-1600880292089-90a7e086ee0c?w=400&h=500&fit=crop" alt="Partner" class="partner-pic">
          <div class="partner-details">
            <div class="partner-heading">Join MANA HUB</div>
            <p class="partner-text">Be part of Nirmal's fastest growing super app. Connect with thousands of customers and grow your business.</p>
            <button class="partner-action" onclick="showForm('Partner Registration', 'Partnership', 'Join')">Register Now</button>
          </div>
        </div>

        <div class="content-section">
          <div class="section-top">
            <h2 class="section-heading">Why Partner With Us?</h2>
          </div>
          
          <div class="benefits-box">
            <ul class="benefits-list">
              <li class="benefit-item"><span class="check-icon"></span> Reach 10,000+ active users</li>
              <li class="benefit-item"><span class="check-icon"></span> Zero setup fees</li>
              <li class="benefit-item"><span class="check-icon"></span> Free marketing support</li>
              <li class="benefit-item"><span class="check-icon"></span> Flexible commission rates</li>
              <li class="benefit-item"><span class="check-icon"></span> Quick payment cycles</li>
              <li class="benefit-item"><span class="check-icon"></span> 24/7 partner support</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- SERVICES PAGE -->
      <div class="page-view" id="servicesPage">
        <div class="content-section">
          <div class="section-top">
            <h2 class="section-heading">Home Services</h2>
          </div>
          
          <div class="service-matrix">
            <div class="service-box" onclick="showForm('Plumbing Service', 'Home Services', 'Services')">
              <img src="https://images.unsplash.com/photo-1607472586893-edb57bdc0e39?w=400&h=300&fit=crop" alt="Plumbing" class="service-pic">
              <div class="service-details">
                <div class="service-title">Plumbing</div>
                <div class="service-subtitle">Repairs & installations</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('Electrical Service', 'Home Services', 'Services')">
              <img src="https://images.unsplash.com/photo-1621905251918-48416bd8575a?w=400&h=300&fit=crop" alt="Electrical" class="service-pic">
              <div class="service-details">
                <div class="service-title">Electrical</div>
                <div class="service-subtitle">Wiring & repairs</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('Carpentry Service', 'Home Services', 'Services')">
              <img src="https://images.unsplash.com/photo-1504148455328-c376907d081c?w=400&h=300&fit=crop" alt="Carpentry" class="service-pic">
              <div class="service-details">
                <div class="service-title">Carpentry</div>
                <div class="service-subtitle">Furniture & woodwork</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('Painting Service', 'Home Services', 'Services')">
              <img src="https://images.unsplash.com/photo-1589939705384-5185137a7f0f?w=400&h=300&fit=crop" alt="Painting" class="service-pic">
              <div class="service-details">
                <div class="service-title">Painting</div>
                <div class="service-subtitle">Interior & exterior</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('AC Repair Service', 'Home Services', 'Services')">
              <img src="https://images.unsplash.com/photo-1581092160562-40aa08e78837?w=400&h=300&fit=crop" alt="AC Repair" class="service-pic">
              <div class="service-details">
                <div class="service-title">AC Repair</div>
                <div class="service-subtitle">Service & maintenance</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('Cleaning Service', 'Home Services', 'Services')">
              <img src="https://images.unsplash.com/photo-1628177142898-93e36e4e3a50?w=400&h=300&fit=crop" alt="Cleaning" class="service-pic">
              <div class="service-details">
                <div class="service-title">Home Cleaning</div>
                <div class="service-subtitle">Deep cleaning services</div>
              </div>
            </div>
          </div>
        </div>

        <div class="content-section">
          <div class="section-top">
            <h2 class="section-heading">Professional Services</h2>
          </div>
          
          <div class="service-matrix">
            <div class="service-box" onclick="showForm('Photography Service', 'Professional Services', 'Services')">
              <img src="https://images.unsplash.com/photo-1542038784456-1ea8e935640e?w=400&h=300&fit=crop" alt="Photography" class="service-pic">
              <div class="service-details">
                <div class="service-title">Photography</div>
                <div class="service-subtitle">Events & portraits</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('Videography Service', 'Professional Services', 'Services')">
              <img src="https://images.unsplash.com/photo-1492691527719-9d1e07e534b4?w=400&h=300&fit=crop" alt="Videography" class="service-pic">
              <div class="service-details">
                <div class="service-title">Videography</div>
                <div class="service-subtitle">Professional videos</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('Catering Service', 'Professional Services', 'Services')">
              <img src="https://images.unsplash.com/photo-1555244162-803834f70033?w=400&h=300&fit=crop" alt="Catering" class="service-pic">
              <div class="service-details">
                <div class="service-title">Catering</div>
                <div class="service-subtitle">Events & parties</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('DJ Service', 'Professional Services', 'Services')">
              <img src="https://images.unsplash.com/photo-1571266028243-d220c6579e0f?w=400&h=300&fit=crop" alt="DJ" class="service-pic">
              <div class="service-details">
                <div class="service-title">DJ Services</div>
                <div class="service-subtitle">Music & entertainment</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('Decoration Service', 'Professional Services', 'Services')">
              <img src="https://images.unsplash.com/photo-1530103862676-de8c9debad1d?w=400&h=300&fit=crop" alt="Decoration" class="service-pic">
              <div class="service-details">
                <div class="service-title">Decoration</div>
                <div class="service-subtitle">Event decoration</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('Makeup & Beauty', 'Professional Services', 'Services')">
              <img src="https://images.unsplash.com/photo-1487412947147-5cebf100ffc2?w=400&h=300&fit=crop" alt="Makeup" class="service-pic">
              <div class="service-details">
                <div class="service-title">Makeup & Beauty</div>
                <div class="service-subtitle">Bridal & party makeup</div>
              </div>
            </div>
          </div>
        </div>

        <div class="content-section">
          <div class="section-top">
            <h2 class="section-heading">Tech Services</h2>
          </div>
          
          <div class="service-matrix">
            <div class="service-box" onclick="showForm('Computer Repair', 'Tech Services', 'Services')">
              <img src="https://images.unsplash.com/photo-1587825140708-dfaf72ae4b04?w=400&h=300&fit=crop" alt="Computer Repair" class="service-pic">
              <div class="service-details">
                <div class="service-title">Computer Repair</div>
                <div class="service-subtitle">Hardware & software</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('Mobile Repair', 'Tech Services', 'Services')">
              <img src="https://images.unsplash.com/photo-1601784551446-20c9e07cdbdb?w=400&h=300&fit=crop" alt="Mobile Repair" class="service-pic">
              <div class="service-details">
                <div class="service-title">Mobile Repair</div>
                <div class="service-subtitle">Screen & components</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('CCTV Installation', 'Tech Services', 'Services')">
              <img src="https://images.unsplash.com/photo-1557597774-9d273605dfa9?w=400&h=300&fit=crop" alt="CCTV" class="service-pic">
              <div class="service-details">
                <div class="service-title">CCTV Installation</div>
                <div class="service-subtitle">Security cameras</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('WiFi Setup Service', 'Tech Services', 'Services')">
              <img src="https://images.unsplash.com/photo-1606904825846-647eb07f5be2?w=400&h=300&fit=crop" alt="WiFi" class="service-pic">
              <div class="service-details">
                <div class="service-title">WiFi Setup</div>
                <div class="service-subtitle">Network installation</div>
              </div>
            </div>
          </div>
        </div>

        <div class="content-section">
          <div class="section-top">
            <h2 class="section-heading">Vehicle Services</h2>
          </div>
          
          <div class="service-matrix">
            <div class="service-box" onclick="showForm('Car Service', 'Vehicle Services', 'Services')">
              <img src="https://images.unsplash.com/photo-1619642751034-765dfdf7c58e?w=400&h=300&fit=crop" alt="Car Service" class="service-pic">
              <div class="service-details">
                <div class="service-title">Car Service</div>
                <div class="service-subtitle">Maintenance & repair</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('Bike Service', 'Vehicle Services', 'Services')">
              <img src="https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=300&fit=crop" alt="Bike Service" class="service-pic">
              <div class="service-details">
                <div class="service-title">Bike Service</div>
                <div class="service-subtitle">Two-wheeler service</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('Car Wash Service', 'Vehicle Services', 'Services')">
              <img src="https://images.unsplash.com/photo-1601362840469-51e4d8d58785?w=400&h=300&fit=crop" alt="Car Wash" class="service-pic">
              <div class="service-details">
                <div class="service-title">Car Wash</div>
                <div class="service-subtitle">Cleaning & detailing</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('Tire Puncture Repair', 'Vehicle Services', 'Services')">
              <img src="https://images.unsplash.com/photo-1486262715619-67b85e0b08d3?w=400&h=300&fit=crop" alt="Tire Repair" class="service-pic">
              <div class="service-details">
                <div class="service-title">Tire Repair</div>
                <div class="service-subtitle">Puncture fixing</div>
              </div>
            </div>
          </div>
        </div>

        <div class="content-section">
          <div class="section-top">
            <h2 class="section-heading">Personal Services</h2>
          </div>
          
          <div class="service-matrix">
            <div class="service-box" onclick="showForm('Salon at Home', 'Personal Services', 'Services')">
              <img src="https://images.unsplash.com/photo-1560066984-138dadb4c035?w=400&h=300&fit=crop" alt="Salon" class="service-pic">
              <div class="service-details">
                <div class="service-title">Salon at Home</div>
                <div class="service-subtitle">Haircut & styling</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('Spa Services', 'Personal Services', 'Services')">
              <img src="https://images.unsplash.com/photo-1544161515-4ab6ce6db874?w=400&h=300&fit=crop" alt="Spa" class="service-pic">
              <div class="service-details">
                <div class="service-title">Spa Services</div>
                <div class="service-subtitle">Massage & therapy</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('Fitness Trainer', 'Personal Services', 'Services')">
              <img src="https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?w=400&h=300&fit=crop" alt="Fitness" class="service-pic">
              <div class="service-details">
                <div class="service-title">Fitness Trainer</div>
                <div class="service-subtitle">Personal training</div>
              </div>
            </div>
            
            <div class="service-box" onclick="showForm('Yoga Instructor', 'Personal Services', 'Services')">
              <img src="https://images.unsplash.com/photo-1599901860904-17e6ed7083a0?w=400&h=300&fit=crop" alt="Yoga" class="service-pic">
              <div class="service-details">
                <div class="service-title">Yoga Instructor</div>
                <div class="service-subtitle">Private sessions</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- MORE PAGE -->
      <div class="page-view" id="morePage">
        <!-- Hero Vertical Banner -->
        <div class="hero-vertical-banner">
          <div class="hero-slide active">
            <img src="https://images.unsplash.com/photo-1557821552-17105176677c?w=800&h=1200&fit=crop" alt="Hero 1" class="hero-slide-img">
            <div class="hero-overlay">
              <h2 class="hero-heading">Welcome to MANA HUB</h2>
              <p class="hero-tagline">Your one-stop solution for everything</p>
              <div class="hero-buttons">
                <button class="hero-btn btn-whatsapp-hero" onclick="chatWhatsAppWithLocation()">
                  <svg viewBox="0 0 24 24" width="18" height="18" fill="white"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
                  Chat on WhatsApp
                </button>
                <button class="hero-btn btn-location-hero" onclick="shareLocationOnly()">
                  <svg viewBox="0 0 24 24" width="18" height="18" fill="white"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                  Share Live Location
                </button>
              </div>
            </div>
          </div>
          <div class="hero-slide">
            <img src="https://images.unsplash.com/photo-1556740758-90de374c12ad?w=800&h=1200&fit=crop" alt="Hero 2" class="hero-slide-img">
            <div class="hero-overlay">
              <h2 class="hero-heading">Shop Local Products</h2>
              <p class="hero-tagline">Support local businesses</p>
              <div class="hero-buttons">
                <button class="hero-btn btn-whatsapp-hero" onclick="chatWhatsAppWithLocation()">
                  <svg viewBox="0 0 24 24" width="18" height="18" fill="white"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
                  Chat on WhatsApp
                </button>
                <button class="hero-btn btn-location-hero" onclick="shareLocationOnly()">
                  <svg viewBox="0 0 24 24" width="18" height="18" fill="white"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                  Share Live Location
                </button>
              </div>
            </div>
          </div>
          <div class="hero-slide">
            <img src="https://images.unsplash.com/photo-1492684223066-81342ee5ff30?w=800&h=1200&fit=crop" alt="Hero 3" class="hero-slide-img">
            <div class="hero-overlay">
              <h2 class="hero-heading">Fast Delivery Service</h2>
              <p class="hero-tagline">Get it delivered to your doorstep</p>
              <div class="hero-buttons">
                <button class="hero-btn btn-whatsapp-hero" onclick="chatWhatsAppWithLocation()">
                  <svg viewBox="0 0 24 24" width="18" height="18" fill="white"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
                  Chat on WhatsApp
                </button>
                <button class="hero-btn btn-location-hero" onclick="shareLocationOnly()">
                  <svg viewBox="0 0 24 24" width="18" height="18" fill="white"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                  Share Live Location
                </button>
              </div>
            </div>
          </div>
          <div class="hero-slide">
            <img src="https://images.unsplash.com/photo-1565688534245-05d6b5be184a?w=800&h=1200&fit=crop" alt="Hero 4" class="hero-slide-img">
            <div class="hero-overlay">
              <h2 class="hero-heading">Book Events</h2>
              <p class="hero-tagline">Plan your perfect celebration</p>
              <div class="hero-buttons">
                <button class="hero-btn btn-whatsapp-hero" onclick="chatWhatsAppWithLocation()">
                  <svg viewBox="0 0 24 24" width="18" height="18" fill="white"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
                  Chat on WhatsApp
                </button>
                <button class="hero-btn btn-location-hero" onclick="shareLocationOnly()">
                  <svg viewBox="0 0 24 24" width="18" height="18" fill="white"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                  Share Live Location
                </button>
              </div>
            </div>
          </div>
          <div class="hero-slide">
            <img src="https://images.unsplash.com/photo-1556740714-a8395b3bf30f?w=800&h=1200&fit=crop" alt="Hero 5" class="hero-slide-img">
            <div class="hero-overlay">
              <h2 class="hero-heading">Grow Your Business</h2>
              <p class="hero-tagline">Partner with us today</p>
              <div class="hero-buttons">
                <button class="hero-btn btn-whatsapp-hero" onclick="chatWhatsAppWithLocation()">
                  <svg viewBox="0 0 24 24" width="18" height="18" fill="white"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
                  Chat on WhatsApp
                </button>
                <button class="hero-btn btn-location-hero" onclick="shareLocationOnly()">
                  <svg viewBox="0 0 24 24" width="18" height="18" fill="white"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
                  Share Live Location
                </button>
              </div>
            </div>
          </div>
          <div class="hero-dots">
            <div class="hero-dot active"></div>
            <div class="hero-dot"></div>
            <div class="hero-dot"></div>
            <div class="hero-dot"></div>
            <div class="hero-dot"></div>
          </div>
        </div>

        <!-- Theme Selection -->
        <div class="content-section">
          <div class="section-top">
            <h2 class="section-heading">Choose Your Theme</h2>
          </div>
          <div class="theme-grid" id="themeGrid"></div>
        </div>

        <!-- About Us -->
        <div class="content-section">
          <div class="section-top">
            <h2 class="section-heading">About MANA HUB</h2>
          </div>
          <div class="about-wrapper">
            <img src="https://images.unsplash.com/photo-1557821552-17105176677c?w=800&h=400&fit=crop" alt="About Us" class="about-image">
            <div class="about-content">
              <p class="about-text">MANA HUB is your comprehensive ecosystem connecting local businesses, delivery services, shopping, and professional services all in one place.</p>
              <p class="about-text">We empower local entrepreneurs and make it easier for customers to access quality products and services across Nirmal District.</p>
              <p class="about-text">Join thousands of businesses and customers who trust MANA HUB for their daily needs.</p>
              <button class="action-btn btn-whatsapp" onclick="contactUsWhatsApp()">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="white"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
                Contact Us on WhatsApp
              </button>
            </div>
          </div>
        </div>

        <!-- Contact Us -->
        <div class="content-section">
          <div class="section-top">
            <h2 class="section-heading">Contact Us</h2>
          </div>
          <div class="contact-cards">
            <div class="contact-card">
              <div class="contact-icon">
                <svg viewBox="0 0 24 24" width="32" height="32" fill="#25d366"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
              </div>
              <h3 class="contact-title">WhatsApp Chat</h3>
              <p class="contact-description">Get instant support via WhatsApp</p>
              <button class="action-btn btn-whatsapp" onclick="chatWhatsAppWithLocation()">
                Chat Now
                                                                                 </button>
                  </div>
            <div class="contact-card">
              <div class="contact-icon">
                <svg viewBox="0 0 24 24" width="32" height="32" fill="#5f27cd"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
              </div>
              <h3 class="contact-title">Share Location</h3>
              <p class="contact-description">Send us your live location</p>
              <button class="action-btn btn-primary" onclick="shareLocationOnly()">
                Share Location
              </button>
            </div>
          </div>
        </div>

        <!-- Refer & Earn -->
        <div class="content-section refer-section">
          <div class="section-top">
            <h2 class="section-heading">Refer & Earn</h2>
          </div>
          <div class="refer-content">
            <div class="refer-steps">
              <div class="refer-step">
                <div class="refer-step-number">1</div>
                <p class="refer-step-text">Share your referral link with friends</p>
              </div>
              <div class="refer-step">
                <div class="refer-step-number">2</div>
                <p class="refer-step-text">They sign up using your link</p>
              </div>
              <div class="refer-step">
                <div class="refer-step-number">3</div>
                <p class="refer-step-text">You both earn rewards!</p>
              </div>
            </div>
            <div class="refer-link-box">
              <label class="refer-label">Your Referral Link:</label>
              <div class="refer-url-wrapper">
                <input type="text" class="refer-url-input" value="https://www.mana.delivery" readonly>
                <button class="copy-btn" onclick="copyReferralLink()">
                  <svg viewBox="0 0 24 24" width="18" height="18" fill="white"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>
                </button>
              </div>
            </div>
            <div class="refer-buttons">
              <button class="action-btn btn-whatsapp" onclick="shareReferralWhatsApp()">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="white"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
                Share on WhatsApp
              </button>
              <button class="action-btn btn-primary" onclick="inviteFriends()">
                Invite Friends
              </button>
            </div>
          </div>
        </div>

        <!-- Our Brands -->
        <div class="content-section">
          <div class="section-top">
            <h2 class="section-heading">Our Brands</h2>
          </div>
          <div class="brands-grid">
            <div class="brand-card">
              <img src="https://images.unsplash.com/photo-1513885535751-8b9238bd345a?w=400&h=300&fit=crop" alt="Gift Bazaar" class="brand-logo">
              <h3 class="brand-name">GIFT BAZAAR</h3>
              <p class="brand-description">Premium gifts for every occasion</p>
              <div class="brand-buttons">
                <button class="brand-btn btn-visit" onclick="visitBrand('https://www.giftbazaar.site')">Visit Site</button>
                <button class="brand-btn btn-contact" onclick="contactBrandWhatsApp('Gift Bazaar')">
                  <svg viewBox="0 0 24 24" width="16" height="16" fill="white"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
                  Chat
                </button>
              </div>
            </div>
            <div class="brand-card">
              <img src="https://images.unsplash.com/photo-1556742502-ec7c0e9f34b1?w=400&h=300&fit=crop" alt="ARS Hub" class="brand-logo">
              <h3 class="brand-name">ARS HUB</h3>
              <p class="brand-description">Complete tech solutions</p>
              <div class="brand-buttons">
                <button class="brand-btn btn-visit" onclick="visitBrand('https://www.arshub.site')">Visit Site</button>
                <button class="brand-btn btn-contact" onclick="contactBrandWhatsApp('ARS Hub')">
                  <svg viewBox="0 0 24 24" width="16" height="16" fill="white"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
                  Chat
                </button>
              </div>
            </div>
            <div class="brand-card">
              <img src="https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&h=300&fit=crop" alt="A2Z Trade" class="brand-logo">
              <h3 class="brand-name">A2Z TRADE</h3>
              <p class="brand-description">Everything you need, A to Z</p>
              <div class="brand-buttons">
                <button class="brand-btn btn-visit" onclick="visitBrand('https://www.a2ztrade.site')">Visit Site</button>
                <button class="brand-btn btn-contact" onclick="contactBrandWhatsApp('A2Z Trade')">
                  <svg viewBox="0 0 24 24" width="16" height="16" fill="white"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
                  Chat
                </button>
              </div>
            </div>
            <div class="brand-card">
              <img src="https://images.unsplash.com/photo-1483985988355-763728e1935b?w=400&h=300&fit=crop" alt="Women Works" class="brand-logo">
              <h3 class="brand-name">WOMEN WORKS</h3>
              <p class="brand-description">Empowering women entrepreneurs</p>
              <div class="brand-buttons">
                <button class="brand-btn btn-visit" onclick="visitBrand('https://www.sakhiworks.site')">Visit Site</button>
                <button class="brand-btn btn-contact" onclick="contactBrandWhatsApp('Women Works')">
                  <svg viewBox="0 0 24 24" width="16" height="16" fill="white"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
                  Chat
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Legal Information -->
        <div class="content-section">
          <div class="section-top">
            <h2 class="section-heading">Legal Information</h2>
          </div>
          <div class="legal-cards">
            <div class="legal-card" onclick="showLegalDocument('terms')">
              <div class="legal-icon">
                <svg viewBox="0 0 24 24" width="32" height="32" fill="#5f27cd"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/></svg>
              </div>
              <h3 class="legal-title">Terms & Conditions</h3>
              <p class="legal-description">Read our terms of service</p>
            </div>
            
            <div class="legal-card" onclick="showLegalDocument('privacy')">
              <div class="legal-icon">
                <svg viewBox="0 0 24 24" width="32" height="32" fill="#5f27cd"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/></svg>
              </div>
              <h3 class="legal-title">Privacy Policy</h3>
              <p class="legal-description">How we protect your data</p>
            </div>
            
            <div class="legal-card" onclick="showLegalDocument('refund')">
              <div class="legal-icon">
                <svg viewBox="0 0 24 24" width="32" height="32" fill="#5f27cd"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/><path d="M11 9h2V6h3V4h-3V1h-2v3H8v2h3z"/></svg>
              </div>
              <h3 class="legal-title">Refund Policy</h3>
              <p class="legal-description">Returns & refunds information</p>
            </div>
            
            <div class="legal-card" onclick="showLegalDocument('disclaimer')">
              <div class="legal-icon">
                <svg viewBox="0 0 24 24" width="32" height="32" fill="#5f27cd"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>
              </div>
              <h3 class="legal-title">Disclaimer</h3>
              <p class="legal-description">Important notices</p>
            </div>
          </div>
        </div>

        <!-- App Version & Copyright -->
        <div class="content-section" style="text-align: center; padding-bottom: 100px;">
          <div style="color: #999; font-size: 12px; line-height: 1.8;">
            <p style="font-weight: 600; color: #666; margin-bottom: 8px;">MANA HUB v1.0.0</p>
            <p> 2024 MANA HUB. All rights reserved.</p>
            <p>Made with  in Nirmal District</p>
            <p style="margin-top: 12px;">
              <a href="#" onclick="showLegalDocument('terms'); return false;" style="color: #5f27cd; text-decoration: none; margin: 0 8px;">Terms</a> 
              <a href="#" onclick="showLegalDocument('privacy'); return false;" style="color: #5f27cd; text-decoration: none; margin: 0 8px;">Privacy</a> 
              <a href="#" onclick="contactUsWhatsApp(); return false;" style="color: #5f27cd; text-decoration: none; margin: 0 8px;">Support</a>
            </p>
          </div>
        </div>
      </div>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-bar">
      <button class="nav-button active" onclick="goToPage('home')">
        <div class="nav-emoji">
          <svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
        </div>
        <div class="nav-label">Home</div>
      </button>
      <button class="nav-button" onclick="goToPage('store')">
        <div class="nav-emoji">
          <svg viewBox="0 0 24 24"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/></svg>
        </div>
        <div class="nav-label">Store</div>
      </button>
      <button class="nav-button" onclick="goToPage('services')">
        <div class="nav-emoji">
          <svg viewBox="0 0 24 24"><path d="M12 2l-5.5 9h11z"/><circle cx="17.5" cy="17.5" r="4.5"/><path d="M3 13.5h8v8H3z"/></svg>
        </div>
        <div class="nav-label">Services</div>
      </button>
      <button class="nav-button" onclick="goToPage('events')">
        <div class="nav-emoji">
          <svg viewBox="0 0 24 24"><path d="M7 10h2v2H7v-2zm0 4h2v2H7v-2zm4-4h2v2h-2v-2zm0 4h2v2h-2v-2zm4-4h2v2h-2v-2zm0 4h2v2h-2v-2z"/><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"/></svg>
        </div>
        <div class="nav-label">Events</div>
      </button>
      <button class="nav-button" onclick="goToPage('more')">
        <div class="nav-emoji">
          <svg viewBox="0 0 24 24"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>
        </div>
        <div class="nav-label">More</div>
      </button>
    </nav>

    <!-- Floating Buttons -->
    <button class="float-button float-wishlist" id="floatWishlist" onclick="openWishlistView()">
      <svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
      <div class="cart-count" id="wishlistCount">0</div>
    </button>
    <button class="float-button float-cart" id="floatCart" onclick="openCartView()">
      <svg viewBox="0 0 24 24"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/></svg>
      <div class="cart-count" id="cartCount">0</div>
    </button>
    <button class="float-button float-whatsapp" onclick="openWhatsAppDirect()">
      <svg viewBox="0 0 24 24"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
    </button>

    <!-- Welcome Popup -->
    <div class="popup-screen center" id="welcomePopup">
      <div class="welcome-popup">
        <img src="https://images.unsplash.com/photo-1557821552-17105176677c?w=200&h=200&fit=crop&crop=center" alt="MANA HUB" class="welcome-logo">
        <h1 class="welcome-title">Welcome to MANA HUB</h1>
        <p class="welcome-subtitle">Your one-stop solution for shopping, delivery, services & events across Nirmal District</p>
        
        <div class="welcome-features">
          <div class="welcome-feature">
            <div class="feature-icon">
              <svg viewBox="0 0 24 24"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/></svg>
            </div>
            <span>Shop 1000+ products online</span>
          </div>
          <div class="welcome-feature">
            <div class="feature-icon">
              <svg viewBox="0 0 24 24"><path d="M18 18.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zm1.5-9H17V12h4.46L19.5 9.5zM6 18.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM20 8l3 4v5h-2c0 1.66-1.34 3-3 3s-3-1.34-3-3H9c0 1.66-1.34 3-3 3s-3-1.34-3-3H1V6c0-1.11.89-2 2-2h14v4h3zM3 6v9h.76c.55-.61 1.35-1 2.24-1 .89 0 1.69.39 2.24 1H15V6H3z"/></svg>
            </div>
            <span>Fast & reliable delivery</span>
          </div>
          <div class="welcome-feature">
            <div class="feature-icon">
              <svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
            </div>
            <span>Expert home services</span>
          </div>
          <div class="welcome-feature">
            <div class="feature-icon">
              <svg viewBox="0 0 24 24"><path d="M7 10h2v2H7v-2zm0 4h2v2H7v-2zm4-4h2v2h-2v-2zm0 4h2v2h-2v-2zm4-4h2v2h-2v-2zm0 4h2v2h-2v-2z"/><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"/></svg>
            </div>
            <span>Event planning & management</span>
          </div>
        </div>

        <button class="welcome-btn" onclick="closeWelcomeShowLocation()">Get Started</button>
      </div>
    </div>

    <!-- Location Selection Popup -->
    <div class="popup-screen center" id="locationPopup">
      <div class="location-popup">
        <div class="location-header">
          <div class="location-icon">
            <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
          </div>
          <h2 class="location-title">Select Your Location</h2>
          <p class="location-subtitle">Choose your area to connect with the right WhatsApp support</p>
        </div>

        <div class="location-search">
          <div class="location-search-icon">
            <svg viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
          </div>
          <input type="text" class="location-search-input" id="locationSearch" placeholder="Search your location..." oninput="filterLocations()">
        </div>

        <div class="location-list" id="locationList"></div>

        <button class="location-confirm-btn" id="confirmLocationBtn" onclick="confirmLocation()" disabled>Confirm Location</button>
      </div>
    </div>

    <!-- Other popups remain the same -->
  </div>

  <script>
    const defaultConfig = {
      app_name: 'MANA HUB',
      tagline: 'Your Super App',
      hero_title: 'Welcome to MANA HUB',
      hero_subtitle: 'Your one-stop solution',
      offer_text: ' LIMITED TIME OFFER'
    };

    // Social Media Browser Detection
    let isSocialBrowser = false;
    let detectedBrowserInfo = { name: 'Social Media Browser', canUseLocation: false };

    function detectSocialBrowser() {
      const ua = navigator.userAgent || navigator.vendor || window.opera;
      
      // Instagram in-app browser
      if (ua.indexOf('Instagram') > -1) {
        isSocialBrowser = true;
        detectedBrowserInfo = { name: 'Instagram Browser', canUseLocation: false };
        return true;
      }
      
      // Facebook in-app browser (FBAN, FBAV)
      if (ua.indexOf('FBAN') > -1 || ua.indexOf('FBAV') > -1) {
        isSocialBrowser = true;
        detectedBrowserInfo = { name: 'Facebook Browser', canUseLocation: false };
        return true;
      }
      
      // Facebook Messenger
      if (ua.indexOf('FB_IAB') > -1 || ua.indexOf('FBIOS') > -1 || ua.indexOf('Messenger') > -1) {
        isSocialBrowser = true;
        detectedBrowserInfo = { name: 'Messenger Browser', canUseLocation: false };
        return true;
      }
      
      // Twitter in-app browser
      if (ua.indexOf('Twitter') > -1) {
        isSocialBrowser = true;
        detectedBrowserInfo = { name: 'Twitter Browser', canUseLocation: false };
        return true;
      }
      
      // LinkedIn in-app browser
      if (ua.indexOf('LinkedInApp') > -1) {
        isSocialBrowser = true;
        detectedBrowserInfo = { name: 'LinkedIn Browser', canUseLocation: false };
        return true;
      }
      
      // Snapchat in-app browser
      if (ua.indexOf('Snapchat') > -1) {
        isSocialBrowser = true;
        detectedBrowserInfo = { name: 'Snapchat Browser', canUseLocation: false };
        return true;
      }
      
      // TikTok in-app browser
      if (ua.indexOf('TikTok') > -1 || ua.indexOf('musical_ly') > -1) {
        isSocialBrowser = true;
        detectedBrowserInfo = { name: 'TikTok Browser', canUseLocation: false };
        return true;
      }
      
      // WhatsApp in-app browser
      if (ua.indexOf('WhatsApp') > -1) {
        isSocialBrowser = true;
        detectedBrowserInfo = { name: 'WhatsApp Browser', canUseLocation: false };
        return true;
      }
      
      // Pinterest in-app browser
      if (ua.indexOf('Pinterest') > -1) {
        isSocialBrowser = true;
        detectedBrowserInfo = { name: 'Pinterest Browser', canUseLocation: false };
        return true;
      }
      
      // Reddit in-app browser
      if (ua.indexOf('Reddit') > -1) {
        isSocialBrowser = true;
        detectedBrowserInfo = { name: 'Reddit Browser', canUseLocation: false };
        return true;
      }
      
      // Telegram in-app browser
      if (ua.indexOf('Telegram') > -1) {
        isSocialBrowser = true;
        detectedBrowserInfo = { name: 'Telegram Browser', canUseLocation: false };
        return true;
      }

      return false;
    }

    function showSocialBrowserWarning() {
      const overlay = document.getElementById('socialBrowserOverlay');
      const browserName = document.getElementById('detectedBrowserName');
      
      if (overlay && browserName) {
        browserName.textContent = detectedBrowserInfo.name;
        overlay.classList.add('show');
      }
    }

    function openInExternalBrowser() {
      const currentURL = window.location.href;
      
      // Try to open in external browser using various methods
      // For Android
      const intentURL = `intent://${currentURL.replace(/^https?:\/\//, '')}#Intent;scheme=https;end`;
      
      // Try Chrome first
      window.location.href = `googlechrome://navigate?url=${encodeURIComponent(currentURL)}`;
      
      // Fallback to intent
      setTimeout(() => {
        window.location.href = intentURL;
      }, 500);

      // Fallback to regular URL (will prompt to open in default browser on some devices)
      setTimeout(() => {
        window.open(currentURL, '_system');
      }, 1000);
      
      displayToast('Opening in external browser...');
    }

    function copyCurrentURL() {
      const currentURL = window.location.href;
      
      // Try modern clipboard API
      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(currentURL).then(() => {
          displayToast(' Link copied! Open it in your browser');
        }).catch(() => {
          fallbackCopyURL(currentURL);
        });
      } else {
        fallbackCopyURL(currentURL);
      }
    }

    function fallbackCopyURL(text) {
      const textArea = document.createElement('textarea');
      textArea.value = text;
      textArea.style.position = 'fixed';
      textArea.style.left = '-999999px';
      document.body.appendChild(textArea);
      textArea.select();
      
      try {
        document.execCommand('copy');
        displayToast(' Link copied! Open it in your browser');
      } catch (err) {
        displayToast('Please copy the URL manually');
      }
      
      document.body.removeChild(textArea);
    }

    function continueInSocialBrowser() {
      const overlay = document.getElementById('socialBrowserOverlay');
      if (overlay) {
        overlay.classList.remove('show');
      }
      
      // Set a flag to remember user's choice for this session
      sessionStorage.setItem('socialBrowserWarningDismissed', 'true');
      
      displayToast(' Some features may be limited');
    }

    function checkLocationSupport() {
      // Check if geolocation is available and working
      if (!navigator.geolocation) {
        return false;
      }
      
      // In social browsers, geolocation might be blocked
      if (isSocialBrowser) {
        return false;
      }
      
      return true;
    }

    let activeLocation = '';
    let activeWhatsApp = '';
    let selectedLocationData = null;
    let activePage = 'home';
    let geoLocation = null;
    let formData = {};
    let cartRecords = [];
    let wishRecords = [];
    let allItems = [];
    let activeFilter = 'all';
    let itemQty = {};
    let activeMarketFilter = 'all';
    let marketItemQty = {};

    const tiffinPlans = [
      {
        id: 'trial',
        name: 'Trial Plan',
        subtitle: '3 Days',
        icon: '',
        price: 99,
        originalPrice: 150,
        period: 'for 3 days',
        popular: false,
        features: [
          'Daily pickup & delivery',
          'Lunch OR Dinner service',
          'Home to destination',
          'No commitment',
          'Cancel anytime'
        ]
      },
      {
        id: 'weekly',
        name: 'Weekly Plan',
        subtitle: '7 Days',
        icon: '',
        price: 199,
        originalPrice: 350,
        period: 'per week',
        popular: false,
        features: [
          'Daily pickup & delivery',
          'Both lunch & dinner',
          'Home to destination',
          'Weekend service included',
          '28/day only'
        ]
      },
      {
        id: 'monthly',
        name: 'Monthly Plan',
        subtitle: '30 Days',
        icon: '',
        price: 699,
        originalPrice: 1200,
        period: 'per month',
        popular: true,
        features: [
          'Daily pickup & delivery',
          'Both lunch & dinner',
          'Home to destination',
          'Priority pickup',
          '23/day - Best Value!',
          'Dedicated delivery partner',
          'Flexible timing'
        ]
      },
      {
    id: 'premium',
        name: 'Premium Monthly',
        subtitle: '30 Days',
        icon: '',
        price: 999,
        originalPrice: 1800,
        period: 'per month',
        popular: false,
        features: [
          'Daily pickup & delivery',
          'Both lunch & dinner',
          'Multiple pickups (2 boxes)',
          'Express delivery',
          'Priority support',
          'Same day scheduling',
          'Door-to-door service',
          'Emergency delivery available'
        ]
      },
      {
        id: 'lunch',
        name: 'Lunch Only',
        subtitle: '30 Days',
        icon: '',
        price: 399,
        originalPrice: 750,
        period: 'per month',
        popular: false,
        features: [
          'Lunch delivery only',
          'Daily pickup from home',
          'Deliver to office/school',
          '13/day only',
          'Morning pickup',
          'Before 1 PM delivery'
        ]
      },
      {
        id: 'dinner',
        name: 'Dinner Only',
        subtitle: '30 Days',
        icon: '',
        price: 399,
        originalPrice: 750,
        period: 'per month',
        popular: false,
        features: [
          'Dinner delivery only',
          'Daily pickup from home',
          'Evening delivery',
          '13/day only',
          'Afternoon pickup',
          'Before 8 PM delivery'
        ]
      }
    ];

    const deliveryPlans = [
      {
        id: 'basic',
        name: 'Basic Plan',
        subtitle: '10 Deliveries',
        icon: '',
        price: 299,
        originalPrice: 500,
        period: 'per month',
        popular: false,
        features: [
          '10 deliveries per month',
          'Standard delivery (24-48 hrs)',
          'Up to 5kg per delivery',
          'Within Nirmal District',
          '30/delivery',
          'Email support'
        ]
      },
      {
        id: 'standard',
        name: 'Standard Plan',
        subtitle: '25 Deliveries',
        icon: '',
        price: 599,
        originalPrice: 1000,
        period: 'per month',
        popular: true,
        features: [
          '25 deliveries per month',
          'Express delivery (12-24 hrs)',
          'Up to 10kg per delivery',
          'Within Nirmal District',
          '24/delivery - Save 20%',
          'Priority support',
          'Live tracking'
        ]
      },
      {
        id: 'premium',
        name: 'Premium Plan',
        subtitle: 'Unlimited',
        icon: '',
        price: 999,
        originalPrice: 2000,
        period: 'per month',
        popular: false,
        features: [
          'Unlimited deliveries',
          'Same day delivery (2-4 hrs)',
          'Up to 15kg per delivery',
          'Anywhere in Telangana',
          'Dedicated delivery partner',
          '24/7 priority support',
          'Live tracking',
          'Free packaging',
          'Schedule pickups'
        ]
      },
      {
        id: 'business',
        name: 'Business Plan',
        subtitle: 'For Companies',
        icon: '',
        price: 1999,
        originalPrice: 4000,
        period: 'per month',
        popular: false,
        features: [
          'Unlimited deliveries',
          'Express delivery (4-8 hrs)',
          'Up to 25kg per delivery',
          'Multi-location support',
          'Bulk pickup service',
          'Invoice & GST billing',
          'Dedicated account manager',
          'API integration available',
          'Real-time tracking dashboard'
        ]
      }
    ];

    const locations = [
      { name: 'Khanapur', phone: '7799086877' },
      { name: 'Nirmal', phone: '7993477015' },
      { name: 'Mamda', phone: '7799086877' },
      { name: 'Kasipet', phone: '7993477015' },
      { name: 'Laxmanchanda', phone: '7799086877' },
      { name: 'Basar', phone: '7799086877' },
      { name: 'Mudhole', phone: '7993477015' },
      { name: 'Tanur', phone: '7799086877' },
      { name: 'Dilawarpur', phone: '7993477015' },
      { name: 'Sarangapur', phone: '7993477015' },
      { name: 'Kubeer', phone: '7799086877' },
      { name: 'Kaddipet', phone: '7993477015' },
      { name: 'Nannur', phone: '7799086877' },
      { name: 'Pembi', phone: '7993477015' },
      { name: 'Soan', phone: '7799086877' }
    ];

    // Sample Data
    const productData = {
      electronics: [
        { id: 1, name: 'Wireless Headphones', image: 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400', category: 'electronics' },
        { id: 2, name: 'Smart Watch', image: 'https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400', category: 'electronics' },
        { id: 3, name: 'Bluetooth Speaker', image: 'https://images.unsplash.com/photo-1608043152269-423dbba4e7e1?w=400', category: 'electronics' },
        { id: 4, name: 'Wireless Mouse', image: 'https://images.unsplash.com/photo-1527864550417-7fd91fc51a46?w=400', category: 'electronics' },
        { id: 5, name: 'USB Cable', image: 'https://images.unsplash.com/photo-1583863788434-e58a36330cf0?w=400', category: 'electronics' }
      ],
      fashion: [
        { id: 6, name: 'Cotton T-Shirt', image: 'https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400', category: 'fashion' },
        { id: 7, name: 'Denim Jeans', image: 'https://images.unsplash.com/photo-1542272604-787c3835535d?w=400', category: 'fashion' },
        { id: 8, name: 'Summer Dress', image: 'https://images.unsplash.com/photo-1595777457583-95e059d581b8?w=400', category: 'fashion' },
        { id: 9, name: 'Sneakers', image: 'https://images.unsplash.com/photo-1549298916-b41d501d3772?w=400', category: 'fashion' },
        { id: 10, name: 'Leather Belt', image: 'https://images.unsplash.com/photo-1624222247344-550fb60583aa?w=400', category: 'fashion' }
      ],
      home: [
        { id: 11, name: 'Coffee Maker', image: 'https://images.unsplash.com/photo-1517668808822-9ebb02f2a0e6?w=400', category: 'home' },
        { id: 12, name: 'Dinner Set', image: 'https://images.unsplash.com/photo-1578500494198-246f612d3b3d?w=400', category: 'home' },
        { id: 13, name: 'Bed Sheets', image: 'https://images.unsplash.com/photo-1616627988407-cae8b7ba945b?w=400', category: 'home' },
        { id: 14, name: 'Table Lamp', image: 'https://images.unsplash.com/photo-1507473885765-e6ed057f782c?w=400', category: 'home' },
        { id: 15, name: 'Wall Clock', image: 'https://images.unsplash.com/photo-1563861826100-9cb868fdbe1c?w=400', category: 'home' }
      ],
      beauty: [
        { id: 16, name: 'Face Cream', image: 'https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=400', category: 'beauty' },
        { id: 17, name: 'Lipstick', image: 'https://images.unsplash.com/photo-1586495777744-4413f21062fa?w=400', category: 'beauty' },
        { id: 18, name: 'Hair Dryer', image: 'https://images.unsplash.com/photo-1522338242992-e1a54906a8da?w=400', category: 'beauty' },
        { id: 19, name: 'Perfume', image: 'https://images.unsplash.com/photo-1541643600914-78b084683601?w=400', category: 'beauty' },
        { id: 20, name: 'Nail Polish', image: 'https://images.unsplash.com/photo-1619450003268-1d1e1d8ea23a?w=400', category: 'beauty' }
      ],
      sports: [
        { id: 21, name: 'Yoga Mat', image: 'https://images.unsplash.com/photo-1601925260368-ae2f83cf8b7f?w=400', category: 'sports' },
        { id: 22, name: 'Dumbbells', image: 'https://images.unsplash.com/photo-1571902943202-507ec2618e8f?w=400', category: 'sports' },
        { id: 23, name: 'Cricket Bat', image: 'https://images.unsplash.com/photo-1624526267942-ab0ff8a3e972?w=400', category: 'sports' },
        { id: 24, name: 'Football', image: 'https://images.unsplash.com/photo-1614632537423-1e6c2e7e0aae?w=400', category: 'sports' },
        { id: 25, name: 'Running Shoes', image: 'https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=400', category: 'sports' }
      ],
      books: [
        { id: 26, name: 'Fiction Novel', image: 'https://images.unsplash.com/photo-1544947950-fa07a98d237f?w=400', category: 'books' },
        { id: 27, name: 'Cookbook', image: 'https://images.unsplash.com/photo-1589829085413-56de8ae18c73?w=400', category: 'books' },
        { id: 28, name: 'Science Book', image: 'https://images.unsplash.com/photo-1532012197267-da84d127e765?w=400', category: 'books' },
        { id: 29, name: 'Children Book', image: 'https://images.unsplash.com/photo-1512820790803-83ca734da794?w=400', category: 'books' },
        { id: 30, name: 'Notebook Set', image: 'https://images.unsplash.com/photo-1517842645767-c639042777db?w=400', category: 'books' }
      ]
    };

    const marketData = {
      local: [
        { id: 101, name: 'Fresh Tomatoes', image: 'https://images.unsplash.com/photo-1546470427-227a8c4c2f75?w=400', category: 'local' },
        { id: 102, name: 'Green Chillies', image: 'https://images.unsplash.com/photo-1583328652194-68b3f8cf5afc?w=400', category: 'local' },
        { id: 103, name: 'Fresh Milk', image: 'https://images.unsplash.com/photo-1550583724-b2692b85b150?w=400', category: 'local' },
        { id: 104, name: 'Farm Eggs', image: 'https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?w=400', category: 'local' },
        { id: 105, name: 'Local Honey', image: 'https://images.unsplash.com/photo-1587049352846-4a222e784129?w=400', category: 'local' },
        { id: 106, name: 'Fresh Spinach', image: 'https://images.unsplash.com/photo-1576045057995-568f588f82fb?w=400', category: 'local' },
        { id: 107, name: 'Onions', image: 'https://images.unsplash.com/photo-1518977676601-b53f82aba655?w=400', category: 'local' },
        { id: 108, name: 'Potatoes', image: 'https://images.unsplash.com/photo-1518977676601-b53f82aba655?w=400', category: 'local' }
      ],
      rental: [
        { id: 201, name: 'Party Tent', image: 'https://images.unsplash.com/photo-1519225421980-715cb0215aed?w=400', category: 'rental' },
        { id: 202, name: 'Sound System', image: 'https://images.unsplash.com/photo-1513829596324-4bb2800c5efb?w=400', category: 'rental' },
        { id: 203, name: 'Projector', image: 'https://images.unsplash.com/photo-1517694712202-14dd9538aa97?w=400', category: 'rental' },
        { id: 204, name: 'Chair Set (50)', image: 'https://images.unsplash.com/photo-1503342394128-c104d54dba01?w=400', category: 'rental' },
        { id: 205, name: 'Generator', image: 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400', category: 'rental' },
        { id: 206, name: 'LED Lights', image: 'https://images.unsplash.com/photo-1524484485831-a92ffc0de03f?w=400', category: 'rental' }
      ],
      preowned: [
        { id: 301, name: 'Used Refrigerator', image: 'https://images.unsplash.com/photo-1571175443880-49e1d25b2bc5?w=400', category: 'preowned' },
        { id: 302, name: 'Study Table', image: 'https://images.unsplash.com/photo-1595428774223-ef52624120d2?w=400', category: 'preowned' },
        { id: 303, name: 'Bicycle', image: 'https://images.unsplash.com/photo-1485965120184-e220f721d03e?w=400', category: 'preowned' },
        { id: 304, name: 'Washing Machine', image: 'https://images.unsplash.com/photo-1626806787461-102c1bfaaea1?w=400', category: 'preowned' },
        { id: 305, name: 'Sofa Set', image: 'https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=400', category: 'preowned' },
        { id: 306, name: 'Dining Table', image: 'https://images.unsplash.com/photo-1615066390971-03e4e1c36ddf?w=400', category: 'preowned' }
      ]
    };
    
    let allMarketItems = [];
    Object.values(marketData).forEach(cat => {
      allMarketItems = allMarketItems.concat(cat);
    });

    Object.values(productData).forEach(cat => {
      allItems = allItems.concat(cat);
    });

    allItems.forEach(p => {
      itemQty[p.id] = '1';
    });
    
    allMarketItems.forEach(p => {
      marketItemQty[p.id] = '1 kg';
    });

    // PWA Functions
    let deferredPrompt = null;

    function initPWA() {
      // Hide loading screen after content loads
      setTimeout(() => {
        const loader = document.getElementById('pwaLoader');
        if (loader) {
          loader.classList.add('hidden');
          setTimeout(() => loader.remove(), 500);
        }
      }, 2000);

      // Register Service Worker
      if ('serviceWorker' in navigator) {
        const swCode = `
          const CACHE_NAME = 'mana-hub-v1';
          const urlsToCache = ['/'];

          self.addEventListener('install', event => {
            event.waitUntil(
              caches.open(CACHE_NAME)
                .then(cache => cache.addAll(urlsToCache))
            );
          });

          self.addEventListener('fetch', event => {
            event.respondWith(
              caches.match(event.request)
                .then(response => response || fetch(event.request))
            );
          });
        `;

        const blob = new Blob([swCode], { type: 'application/javascript' });
        const swUrl = URL.createObjectURL(blob);

        navigator.serviceWorker.register(swUrl)
          .then(reg => console.log('Service Worker registered'))
          .catch(err => console.log('Service Worker registration failed'));
      }

      // PWA Install Prompt
      window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault();
        deferredPrompt = e;
        
        // Show install prompt after 3 seconds if not installed
        setTimeout(() => {
          if (!window.matchMedia('(display-mode: standalone)').matches) {
            showInstallPrompt();
          }
        }, 3000);
      });

      // Check if already installed
      window.addEventListener('appinstalled', () => {
        deferredPrompt = null;
        hideInstallPrompt();
      });

      // Install button click
      const installBtn = document.getElementById('pwaInstallBtn');
      if (installBtn) {
        installBtn.addEventListener('click', async () => {
          if (deferredPrompt) {
            deferredPrompt.prompt();
            const { outcome } = await deferredPrompt.userChoice;
            if (outcome === 'accepted') {
              hideInstallPrompt();
            }
            deferredPrompt = null;
          }
        });
      }

    // Close button click
      const closeBtn = document.getElementById('pwaInstallClose');
      if (closeBtn) {
        closeBtn.addEventListener('click', () => {
          hideInstallPrompt();
          localStorage.setItem('pwaInstallDismissed', 'true');
        });
      }
    }

    function showInstallPrompt() {
      const dismissed = localStorage.getItem('pwaInstallDismissed');
      if (!dismissed) {
        const prompt = document.getElementById('pwaInstallPrompt');
        if (prompt) prompt.classList.add('show');
      }
    }

    function hideInstallPrompt() {
      const prompt = document.getElementById('pwaInstallPrompt');
      if (prompt) prompt.classList.remove('show');
    }

    // Tiffin Plan Functions
    function renderTiffinPlans() {
      const container = document.getElementById('tiffinPlans');
      if (!container) return;

      container.innerHTML = tiffinPlans.map(plan => `
        <div class="tiffin-plan-card ${plan.popular ? 'popular' : ''}">
          ${plan.popular ? '<div class="tiffin-plan-badge">Most Popular</div>' : ''}
          
          <div class="tiffin-plan-header">
            <div class="tiffin-plan-icon">${plan.icon}</div>
            <div>
              <div class="tiffin-plan-title">${plan.name}</div>
              <div class="tiffin-plan-subtitle">${plan.subtitle}</div>
            </div>
          </div>

          <div class="tiffin-plan-price">
            <span class="tiffin-price-amount">${plan.price}</span>
            <span class="tiffin-price-period">${plan.period}</span>
            <span class="tiffin-price-original">${plan.originalPrice}</span>
          </div>

          <ul class="tiffin-plan-features">
            ${plan.features.map(feature => `
              <li class="tiffin-plan-feature">
                <span class="tiffin-feature-icon"></span>
                <span>${feature}</span>
              </li>
            `).join('')}
          </ul>

          <div class="tiffin-plan-buttons">
            <button class="tiffin-btn tiffin-btn-primary" onclick="bookTiffinPlan('${plan.id}')">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="white">
                <path d="M7 10h2v2H7v-2zm0 4h2v2H7v-2zm4-4h2v2h-2v-2zm0 4h2v2h-2v-2zm4-4h2v2h-2v-2zm0 4h2v2h-2v-2z"/><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"/>
              </svg>
              Book Now
            </button>
            <button class="tiffin-btn tiffin-btn-secondary" onclick="showTiffinDetails('${plan.id}')">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="#333">
                <path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"/>
              </svg>
              Details
            </button>
          </div>
        </div>
      `).join('');
    }

    function bookTiffinPlan(planId) {
      if (!activeWhatsApp) {
        showLocationPopup();
        return;
      }

      const plan = tiffinPlans.find(p => p.id === planId);
      if (!plan) return;

      const popup = document.createElement('div');
      popup.className = 'popup-screen active';
      popup.innerHTML = `
        <div class="popup-box">
          <div class="popup-top">
            <div class="popup-heading"> Book ${plan.name}</div>
            <button class="popup-exit" onclick="this.closest('.popup-screen').remove()">
              <svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
            </button>
          </div>
          
          <div style="background: #f8f8f8; padding: 16px; border-radius: 12px; margin-bottom: 20px;">
            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
              <div style="font-size: 40px;">${plan.icon}</div>
              <div>
                <div style="font-size: 18px; font-weight: 700; color: #333;">${plan.name}</div>
                <div style="font-size: 14px; color: #666;">${plan.subtitle}</div>
              </div>
            </div>
            <div style="font-size: 24px; font-weight: 700; color: #ff6b6b;">${plan.price} <span style="font-size: 14px; color: #999; font-weight: 400;">${plan.period}</span></div>
          </div>

          <form onsubmit="submitTiffinBooking(event, '${planId}')">
            <div class="input-group">
              <label class="input-tag" for="tiffinName">Your Name *</label>
              <input type="text" id="tiffinName" class="input-box" placeholder="Enter your name" required>
            </div>
            
            <div class="input-group">
              <label class="input-tag" for="tiffinPhone">Phone Number *</label>
              <input type="tel" id="tiffinPhone" class="input-box" placeholder="Enter phone number" required>
            </div>
            
            <div class="input-group">
              <label class="input-tag" for="tiffinPickup">Pickup Address (Home) *</label>
              <textarea id="tiffinPickup" class="input-box" rows="2" placeholder="Where should we pickup your tiffin from?" required></textarea>
            </div>

            <div class="input-group">
              <label class="input-tag" for="tiffinAddress">Delivery Address (Destination) *</label>
              <textarea id="tiffinAddress" class="input-box" rows="2" placeholder="Where should we deliver your tiffin to?" required></textarea>
            </div>
            
            <div class="input-group">
              <label class="input-tag" for="tiffinLocation">Location</label>
              <input type="text" id="tiffinLocation" class="input-box" value="${activeLocation}" disabled>
            </div>

            <div class="input-group">
              <label class="input-tag" for="tiffinStartDate">Start Date *</label>
              <input type="date" id="tiffinStartDate" class="input-box" required>
            </div>

            <div class="input-group">
              <label class="input-tag" for="tiffinTime">Preferred Pickup Time *</label>
              <select id="tiffinTime" class="input-box" required>
                <option value="">Select time slot</option>
                <option value="Morning: 9:00 AM - 10:00 AM">Morning: 9:00 AM - 10:00 AM</option>
                <option value="Morning: 10:00 AM - 11:00 AM">Morning: 10:00 AM - 11:00 AM</option>
                <option value="Afternoon: 5:00 PM - 6:00 PM">Afternoon: 5:00 PM - 6:00 PM</option>
                <option value="Afternoon: 6:00 PM - 7:00 PM">Afternoon: 6:00 PM - 7:00 PM</option>
              </select>
            </div>

            <div class="input-group">
              <label class="input-tag" for="tiffinPreferences">Additional Instructions (Optional)</label>
              <textarea id="tiffinPreferences" class="input-box" rows="3" placeholder="Any special delivery instructions or requirements..."></textarea>
            </div>
            
            <button type="submit" class="action-btn btn-whatsapp">
              <svg viewBox="0 0 24 24" width="20" height="20" fill="white"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
              Confirm Subscription via WhatsApp
            </button>
          </form>
        </div>
      `;
      document.body.appendChild(popup);

      // Set minimum date to today
      const today = new Date().toISOString().split('T')[0];
      document.getElementById('tiffinStartDate').setAttribute('min', today);
    }

    function submitTiffinBooking(event, planId) {
      event.preventDefault();
      
      const plan = tiffinPlans.find(p => p.id === planId);
      const name = document.getElementById('tiffinName').value;
      const phone = document.getElementById('tiffinPhone').value;
      const pickupAddress = document.getElementById('tiffinPickup').value;
      const deliveryAddress = document.getElementById('tiffinAddress').value;
      const startDate = document.getElementById('tiffinStartDate').value;
      const timeSlot = document.getElementById('tiffinTime').value;
      const instructions = document.getElementById('tiffinPreferences').value;

      let message = ` *Dabbawala Tiffin Delivery Subscription*\n\n`;
      message += `*Plan Details:*\n`;
      message += `${plan.icon} ${plan.name} (${plan.subtitle})\n`;
      message += ` Price: ${plan.price} ${plan.period}\n\n`;
      
      message += `*Customer Details:*\n`;
      message += ` Name: ${name}\n`;
      message += ` Phone: ${phone}\n`;
      message += ` Area: ${activeLocation}\n\n`;
      
      message += `*Service Addresses:*\n`;
      message += ` Pickup (Home): ${pickupAddress}\n`;
      message += ` Delivery (Destination): ${deliveryAddress}\n\n`;
      
      message += `*Service Details:*\n`;
      message += ` Start Date: ${new Date(startDate).toLocaleDateString('en-IN', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}\n`;
      message += ` Pickup Time: ${timeSlot}\n`;
      
      if (instructions) {
        message += `\n *Special Instructions:*\n${instructions}\n`;
      }

      message += `\n*Subscription Includes:*\n`;
      plan.features.forEach(feature => {
        message += ` ${feature}\n`;
      });

      if (geoLocation) {
        message += `\n\n *Current Location:*\n`;
        message += `Latitude: ${geoLocation.latitude}\n`;
        message += `Longitude: ${geoLocation.longitude}\n`;
        message += `\n Google Maps:\n${geoLocation.googleMapsUrl}`;
      }

      const url = `https://wa.me/${activeWhatsApp}?text=${encodeURIComponent(message)}`;
      window.open(url, '_blank', 'noopener,noreferrer');
      
      event.target.closest('.popup-screen').remove();
      displayToast('Opening WhatsApp...');
    }

    function bookDeliveryPlan(planId) {
      if (!activeWhatsApp) {
        showLocationPopup();
        return;
      }

      const plan = deliveryPlans.find(p => p.id === planId);
      if (!plan) return;

      const popup = document.createElement('div');
      popup.className = 'popup-screen active';
      popup.innerHTML = `
        <div class="popup-box">
          <div class="popup-top">
            <div class="popup-heading"> Subscribe to ${plan.name}</div>
            <button class="popup-exit" onclick="this.closest('.popup-screen').remove()">
              <svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
            </button>
          </div>
          
          <div style="background: linear-gradient(135deg, #5f27cd, #341f97); color: white; padding: 24px; border-radius: 12px; margin-bottom: 20px; text-align: center;">
            <div style="font-size: 48px; margin-bottom: 12px;">${plan.icon}</div>
            <div style="font-size: 22px; font-weight: 700; margin-bottom: 8px;">${plan.name}</div>
            <div style="font-size: 16px; opacity: 0.95; margin-bottom: 16px;">${plan.subtitle}</div>
            <div style="font-size: 32px; font-weight: 700;">${plan.price}</div>
            <div style="font-size: 14px; opacity: 0.9; margin-top: 4px;">${plan.period}</div>
            <div style="font-size: 14px; opacity: 0.85; margin-top: 8px; text-decoration: line-through;">Original Price: ${plan.originalPrice}</div>
            <div style="background: rgba(255,255,255,0.2); padding: 8px 16px; border-radius: 20px; display: inline-block; margin-top: 12px; font-size: 13px; font-weight: 600;">
              Save ${plan.originalPrice - plan.price}!
            </div>
          </div>

          <form onsubmit="submitDeliveryBooking(event, '${planId}')">
            <div class="input-group">
              <label class="input-tag" for="deliveryName">Your Name *</label>
              <input type="text" id="deliveryName" class="input-box" placeholder="Enter your name" required>
            </div>
            
            <div class="input-group">
              <label class="input-tag" for="deliveryPhone">Phone Number *</label>
              <input type="tel" id="deliveryPhone" class="input-box" placeholder="Enter phone number" required>
            </div>
            
            <div class="input-group">
              <label class="input-tag" for="deliveryAddress">Primary Address *</label>
              <textarea id="deliveryAddress" class="input-box" rows="2" placeholder="Your main pickup/delivery address" required></textarea>
            </div>

            <div class="input-group">
              <label class="input-tag" for="deliveryLocation">Location</label>
              <input type="text" id="deliveryLocation" class="input-box" value="${activeLocation}" disabled>
            </div>

            <div class="input-group">
              <label class="input-tag" for="deliveryStartDate">Start Date *</label>
              <input type="date" id="deliveryStartDate" class="input-box" required>
            </div>

            <div class="input-group">
              <label class="input-tag" for="deliveryUsage">Expected Usage *</label>
              <select id="deliveryUsage" class="input-box" required>
                <option value="">Select usage type</option>
                <option value="Personal Use">Personal Use</option>
                <option value="Small Business">Small Business</option>
                <option value="E-commerce">E-commerce Business</option>
                <option value="Regular Shipments">Regular Shipments</option>
                <option value="Other">Other</option>
              </select>
            </div>

            <div class="input-group">
              <label class="input-tag" for="deliveryNotes">Additional Requirements (Optional)</label>
              <textarea id="deliveryNotes" class="input-box" rows="3" placeholder="Any special requirements or questions..."></textarea>
            </div>

    <button type="submit" class="action-btn btn-whatsapp">
              <svg viewBox="0 0 24 24" width="20" height="20" fill="white"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
              Confirm Subscription via WhatsApp
            </button>
          </form>
        </div>
      `;
      document.body.appendChild(popup);

      const today = new Date().toISOString().split('T')[0];
      document.getElementById('deliveryStartDate').setAttribute('min', today);
    }

    function submitDeliveryBooking(event, planId) {
      event.preventDefault();
      
      const plan = deliveryPlans.find(p => p.id === planId);
      const name = document.getElementById('deliveryName').value;
      const phone = document.getElementById('deliveryPhone').value;
      const address = document.getElementById('deliveryAddress').value;
      const startDate = document.getElementById('deliveryStartDate').value;
      const usage = document.getElementById('deliveryUsage').value;
      const notes = document.getElementById('deliveryNotes').value;

      let message = ` *Delivery Subscription Request*\n\n`;
      message += `*Plan Details:*\n`;
      message += `${plan.icon} ${plan.name} (${plan.subtitle})\n`;
      message += ` Price: ${plan.price} ${plan.period}\n\n`;
      
      message += `*Customer Details:*\n`;
      message += ` Name: ${name}\n`;
      message += ` Phone: ${phone}\n`;
      message += ` Area: ${activeLocation}\n`;
      message += ` Address: ${address}\n\n`;
      
      message += `*Subscription Details:*\n`;
      message += ` Start Date: ${new Date(startDate).toLocaleDateString('en-IN', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}\n`;
      message += ` Usage Type: ${usage}\n`;
      
      if (notes) {
        message += `\n *Additional Notes:*\n${notes}\n`;
      }

      message += `\n*Subscription Includes:*\n`;
      plan.features.forEach(feature => {
        message += ` ${feature}\n`;
      });

      if (geoLocation) {
        message += `\n\n *Current Location:*\n`;
        message += `Latitude: ${geoLocation.latitude}\n`;
        message += `Longitude: ${geoLocation.longitude}\n`;
        message += `\n Google Maps:\n${geoLocation.googleMapsUrl}`;
      }

      const url = `https://wa.me/${activeWhatsApp}?text=${encodeURIComponent(message)}`;
      window.open(url, '_blank', 'noopener,noreferrer');
      
      event.target.closest('.popup-screen').remove();
      displayToast('Opening WhatsApp...');
    }

    function showDeliveryPlanDetails(planId) {
      const plan = deliveryPlans.find(p => p.id === planId);
      if (!plan) return;

      const popup = document.createElement('div');
      popup.className = 'popup-screen active';
      popup.innerHTML = `
        <div class="popup-box">
          <div class="popup-top">
            <div class="popup-heading">${plan.icon} ${plan.name}</div>
            <button class="popup-exit" onclick="this.closest('.popup-screen').remove()">
              <svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
            </button>
          </div>
          
          <div style="background: linear-gradient(135deg, #5f27cd, #341f97); color: white; padding: 24px; border-radius: 12px; margin-bottom: 20px; text-align: center;">
            <div style="font-size: 48px; margin-bottom: 12px;">${plan.icon}</div>
            <div style="font-size: 22px; font-weight: 700; margin-bottom: 8px;">${plan.name}</div>
            <div style="font-size: 16px; opacity: 0.95; margin-bottom: 16px;">${plan.subtitle}</div>
            <div style="font-size: 32px; font-weight: 700;">${plan.price}</div>
            <div style="font-size: 14px; opacity: 0.9; margin-top: 4px;">${plan.period}</div>
            <div style="font-size: 14px; opacity: 0.85; margin-top: 8px; text-decoration: line-through;">Original Price: ${plan.originalPrice}</div>
            <div style="background: rgba(255,255,255,0.2); padding: 8px 16px; border-radius: 20px; display: inline-block; margin-top: 12px; font-size: 13px; font-weight: 600;">
              Save ${plan.originalPrice - plan.price}!
            </div>
          </div>

          <div style="margin-bottom: 20px;">
            <div style="font-size: 16px; font-weight: 700; margin-bottom: 12px; color: #333;">What's Included:</div>
            <ul class="tiffin-plan-features">
              ${plan.features.map(feature => `
                <li class="tiffin-plan-feature">
                  <span class="tiffin-feature-icon"></span>
                  <span>${feature}</span>
                </li>
              `).join('')}
            </ul>
          </div>

          <div style="background: #fff3cd; padding: 16px; border-radius: 12px; margin-bottom: 20px; border-left: 4px solid #ffc107;">
            <div style="font-size: 14px; font-weight: 700; color: #856404; margin-bottom: 8px;"> How It Works:</div>
            <ul style="font-size: 13px; color: #856404; line-height: 1.8; padding-left: 20px; margin: 0;">
              <li>Subscribe to your preferred plan</li>
              <li>Schedule pickups via WhatsApp or app</li>
              <li>We collect from your location</li>
              <li>Fast delivery to destination</li>
              <li>Live tracking for all deliveries</li>
              <li>Monthly billing - easy to manage</li>
            </ul>
          </div>

          <div class="tiffin-plan-buttons">
            <button class="tiffin-btn tiffin-btn-primary" onclick="this.closest('.popup-screen').remove(); bookDeliveryPlan('${plan.id}')" style="background: linear-gradient(135deg, #5f27cd, #341f97);">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="white">
                <path d="M7 10h2v2H7v-2zm0 4h2v2H7v-2zm4-4h2v2h-2v-2zm0 4h2v2h-2v-2zm4-4h2v2h-2v-2zm0 4h2v2h-2v-2z"/><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"/>
              </svg>
              Subscribe to This Plan
            </button>
            <button class="tiffin-btn tiffin-btn-secondary" onclick="contactUsWhatsApp()">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="#333">
                <path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/>
              </svg>
              Ask Questions
            </button>
          </div>
        </div>
      `;
      document.body.appendChild(popup);
    }

    function showTiffinDetails(planId) {
      const plan = tiffinPlans.find(p => p.id === planId);
      if (!plan) return;

      const popup = document.createElement('div');
      popup.className = 'popup-screen active';
      popup.innerHTML = `
        <div class="popup-box">
          <div class="popup-top">
            <div class="popup-heading">${plan.icon} ${plan.name}</div>
            <button class="popup-exit" onclick="this.closest('.popup-screen').remove()">
              <svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
            </button>
          </div>
          
          <div style="background: linear-gradient(135deg, #ff6b6b, #ee5a6f); color: white; padding: 24px; border-radius: 12px; margin-bottom: 20px; text-align: center;">
            <div style="font-size: 48px; margin-bottom: 12px;">${plan.icon}</div>
            <div style="font-size: 22px; font-weight: 700; margin-bottom: 8px;">${plan.name}</div>
            <div style="font-size: 16px; opacity: 0.95; margin-bottom: 16px;">${plan.subtitle}</div>
            <div style="font-size: 32px; font-weight: 700;">${plan.price}</div>
            <div style="font-size: 14px; opacity: 0.9; margin-top: 4px;">${plan.period}</div>
            <div style="font-size: 14px; opacity: 0.85; margin-top: 8px; text-decoration: line-through;">Original Price: ${plan.originalPrice}</div>
            <div style="background: rgba(255,255,255,0.2); padding: 8px 16px; border-radius: 20px; display: inline-block; margin-top: 12px; font-size: 13px; font-weight: 600;">
              Save ${plan.originalPrice - plan.price}!
            </div>
          </div>

          <div style="margin-bottom: 20px;">
            <div style="font-size: 16px; font-weight: 700; margin-bottom: 12px; color: #333;">What's Included:</div>
            <ul class="tiffin-plan-features">
              ${plan.features.map(feature => `
                <li class="tiffin-plan-feature">
                  <span class="tiffin-feature-icon"></span>
                  <span>${feature}</span>
                </li>
              `).join('')}
            </ul>
          </div>

          <div style="background: #fff3cd; padding: 16px; border-radius: 12px; margin-bottom: 20px; border-left: 4px solid #ffc107;">
            <div style="font-size: 14px; font-weight: 700; color: #856404; margin-bottom: 8px;"> How It Works:</div>
            <ul style="font-size: 13px; color: #856404; line-height: 1.8; padding-left: 20px; margin: 0;">
              <li>We pick up your tiffin box from your home</li>
              <li>Fast delivery to your office/school/destination</li>
              <li>Both lunch and dinner service available</li>
              <li>Advance payment required for subscription</li>
              <li>Cancel anytime with 2 days notice</li>
              <li>Reliable and on-time service guaranteed</li>
            </ul>
          </div>

          <div class="tiffin-plan-buttons">
            <button class="tiffin-btn tiffin-btn-primary" onclick="this.closest('.popup-screen').remove(); bookTiffinPlan('${plan.id}')">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="white">
                <path d="M7 10h2v2H7v-2zm0 4h2v2H7v-2zm4-4h2v2h-2v-2zm0 4h2v2h-2v-2zm4-4h2v2h-2v-2zm0 4h2v2h-2v-2z"/><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"/>
              </svg>
              Book This Plan
            </button>
            <button class="tiffin-btn tiffin-btn-secondary" onclick="contactUsWhatsApp()">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="#333">
                <path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/>
              </svg>
              Ask Questions
            </button>
          </div>
        </div>
      `;
      document.body.appendChild(popup);
    }

    // Initialize
    async function startApp() {
      // Detect social browser first
      detectSocialBrowser();
      
      // Check if user dismissed warning in this session
      const warningDismissed = sessionStorage.getItem('socialBrowserWarningDismissed');
      
      // Show warning if in social browser and not dismissed
      if (isSocialBrowser && !warningDismissed) {
        showSocialBrowserWarning();
        // Don't initialize the rest until user makes a choice
        return;
      }
      
      initPWA();
      
      if (window.elementSdk) {
        await window.elementSdk.init({
          defaultConfig,
          onConfigChange: async (config) => {
            document.getElementById('appName').textContent = config.app_name || defaultConfig.app_name;
            document.getElementById('promoText').textContent = config.offer_text || defaultConfig.offer_text;
          },
          mapToCapabilities: () => ({
            recolorables: [],
            borderables: [],
            fontEditable: undefined,
            fontSizeable: undefined
          }),
          mapToEditPanelValues: (config) => new Map([
            ['app_name', config.app_name || defaultConfig.app_name],
            ['tagline', config.tagline || defaultConfig.tagline],
            ['hero_title', config.hero_title || defaultConfig.hero_title],
            ['hero_subtitle', config.hero_subtitle || defaultConfig.hero_subtitle],
            ['offer_text', config.offer_text || defaultConfig.offer_text]
          ])
        });
      }

      if (window.dataSdk) {
        await window.dataSdk.init({
          onDataChanged(data) {
            cartRecords = data.filter(item => item.type === 'cart');
            wishRecords = data.filter(item => item.type === 'wishlist');
            refreshCartBadge();
          }
        });
      }

      // Check if user has visited before
      const hasVisited = localStorage.getItem('manaHubVisited');
      const savedLocation = localStorage.getItem('manaHubLocation');
      
      if (!hasVisited) {
        showWelcomePopup();
        localStorage.setItem('manaHubVisited', 'true');
      } else if (!savedLocation) {
        showLocationPopup();
      } else {
        const locationData = JSON.parse(savedLocation);
        activeLocation = locationData.name;
        activeWhatsApp = locationData.phone;
      }

    renderLocationList();
      showStoreItems();
      showMarketItems();
      showFeaturedProducts();
      renderTiffinPlans();
      renderDeliveryPlans();
      runBannerSlider();
      runTestimonialSlider();
      runTimer();
      grabLocation();
    }

    // Render Delivery Plans
    function renderDeliveryPlans() {
      const container = document.getElementById('deliveryPlans');
      if (!container) return;

      container.innerHTML = deliveryPlans.map(plan => `
        <div class="tiffin-plan-card ${plan.popular ? 'popular' : ''}">
          ${plan.popular ? '<div class="tiffin-plan-badge">Most Popular</div>' : ''}
          
          <div class="tiffin-plan-header">
            <div class="tiffin-plan-icon">${plan.icon}</div>
            <div>
              <div class="tiffin-plan-title">${plan.name}</div>
              <div class="tiffin-plan-subtitle">${plan.subtitle}</div>
            </div>
          </div>

          <div class="tiffin-plan-price">
            <span class="tiffin-price-amount">${plan.price}</span>
            <span class="tiffin-price-period">${plan.period}</span>
            <span class="tiffin-price-original">${plan.originalPrice}</span>
          </div>

          <ul class="tiffin-plan-features">
            ${plan.features.map(feature => `
              <li class="tiffin-plan-feature">
                <span class="tiffin-feature-icon"></span>
                <span>${feature}</span>
              </li>
            `).join('')}
          </ul>

          <div class="tiffin-plan-buttons">
            <button class="tiffin-btn tiffin-btn-primary" onclick="bookDeliveryPlan('${plan.id}')" style="background: linear-gradient(135deg, #5f27cd, #341f97);">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="white">
                <path d="M7 10h2v2H7v-2zm0 4h2v2H7v-2zm4-4h2v2h-2v-2zm0 4h2v2h-2v-2zm4-4h2v2h-2v-2zm0 4h2v2h-2v-2z"/><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z"/>
              </svg>
              Subscribe Now
            </button>
            <button class="tiffin-btn tiffin-btn-secondary" onclick="showDeliveryPlanDetails('${plan.id}')">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="#333">
                <path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"/>
              </svg>
              Details
            </button>
          </div>
        </div>
      `).join('');
    }

    // Modified continue function to initialize app
    window.continueInSocialBrowser = function() {
      const overlay = document.getElementById('socialBrowserOverlay');
      if (overlay) {
        overlay.classList.remove('show');
      }
      
      sessionStorage.setItem('socialBrowserWarningDismissed', 'true');
      displayToast(' Some features may be limited');
      
      // Now initialize the app
      startApp();
    };
    
    function showFeaturedProducts() {
      const container = document.getElementById('featuredProducts');
      if (!container) return;
      
      // Select 8 random products from all items
      const shuffled = [...allItems].sort(() => 0.5 - Math.random());
      const featured = shuffled.slice(0, 8);
      
      container.innerHTML = featured.map(p => {
        const inCart = cartRecords.some(c => c.product_id === p.id);
        const inWishlist = wishRecords.some(w => w.product_id === p.id);
        
        return `
          <div class="product-tile" onclick="goToStoreProduct(${p.id})">
            <img src="${p.image}" alt="${p.name}" class="product-pic">
            <div class="product-details">
              <div class="product-title">${p.name}</div>
              <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 6px;">
                <span style="font-size: 12px; font-weight: 700; color: #333;">Today's Price</span>
                <span class="special-tag">${Math.floor(Math.random() * 40 + 20)}% OFF</span>
              </div>
            </div>
          </div>
        `;
      }).join('');
    }
    
    function goToStoreProduct(productId) {
      goToPage('store');
      
      // Scroll to product after page loads
      setTimeout(() => {
        const product = allItems.find(p => p.id === productId);
        if (product) {
          // Set filter to product category
          activeFilter = product.category;
          
          // Update category badges
          const storePage = document.getElementById('storePage');
          if (storePage) {
            const badges = storePage.querySelectorAll('.category-badge');
            badges.forEach(badge => {
              badge.classList.remove('active');
              if (badge.textContent.toLowerCase().includes(product.category)) {
                badge.classList.add('active');
              }
            });
          }
          
          // Refresh store items with the filter
          showStoreItems();
        }
      }, 100);
    }

    function showWelcomePopup() {
      document.getElementById('welcomePopup').classList.add('active');
    }

    function closeWelcomeShowLocation() {
      document.getElementById('welcomePopup').classList.remove('active');
      setTimeout(() => {
        showLocationPopup();
      }, 300);
    }

    function showLocationPopup() {
      document.getElementById('locationPopup').classList.add('active');
      renderLocationList();
    }

    function renderLocationList() {
      const list = document.getElementById('locationList');
      list.innerHTML = locations.map(loc => `
        <div class="location-item" onclick="selectLocation('${loc.name}', '${loc.phone}')">
          <div class="location-item-icon">
            <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
          </div>
          <div class="location-item-text">
            <div class="location-item-name">${loc.name}</div>
          </div>
        </div>
      `).join('');
    }

    function selectLocation(name, phone) {
      selectedLocationData = { name, phone };
      
      document.querySelectorAll('.location-item').forEach(item => {
        item.classList.remove('selected');
      });
      
      event.currentTarget.classList.add('selected');
      document.getElementById('confirmLocationBtn').disabled = false;
    }

    function confirmLocation() {
      if (selectedLocationData) {
        activeLocation = selectedLocationData.name;
        activeWhatsApp = selectedLocationData.phone;
        localStorage.setItem('manaHubLocation', JSON.stringify(selectedLocationData));
        document.getElementById('locationPopup').classList.remove('active');
        displayToast(`Location set to ${activeLocation}`);
      }
    }

    function filterLocations() {
      const query = document.getElementById('locationSearch').value.toLowerCase();
      const filtered = locations.filter(loc => loc.name.toLowerCase().includes(query));
      
      const list = document.getElementById('locationList');
      list.innerHTML = filtered.map(loc => `
        <div class="location-item ${selectedLocationData && selectedLocationData.name === loc.name ? 'selected' : ''}" onclick="selectLocation('${loc.name}', '${loc.phone}')">
          <div class="location-item-icon">
            <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
          </div>
          <div class="location-item-text">
            <div class="location-item-name">${loc.name}</div>
          </div>
        </div>
      `).join('');
    }

    function openLocationPicker() {
      showLocationPopup();
    }

    // Other functions remain the same as original code
    function runBannerSlider() {
      let bannerIdx = 0;
      setInterval(() => {
        const slides = document.querySelectorAll('.banner-slider .banner-item');
        const dots = document.querySelectorAll('.banner-slider .slider-dot');
        slides[bannerIdx].classList.remove('active');
        dots[bannerIdx].classList.remove('active');
        bannerIdx = (bannerIdx + 1) % slides.length;
        slides[bannerIdx].classList.add('active');
        dots[bannerIdx].classList.add('active');
      }, 4000);
    }

    function runTestimonialSlider() {
      let testimonialIdx = 0;
      setInterval(() => {
        const slides = document.querySelectorAll('.testimonial-item');
        slides[testimonialIdx].classList.remove('active');
        testimonialIdx = (testimonialIdx + 1) % slides.length;
        slides[testimonialIdx].classList.add('active');
      }, 6000);
    }

    function runTimer() {
      const endTime = new Date();
      endTime.setHours(23, 59, 59, 999);
      setInterval(() => {
        const now = new Date();
        const diff = endTime - now;
        const hours = Math.floor(diff / 3600000);
        const minutes = Math.floor((diff % 3600000) / 60000);
        const seconds = Math.floor((diff % 60000) / 1000);
        document.getElementById('timerCount').textContent = 
          `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
      }, 1000);
    }



    function grabLocation() {
      if (!checkLocationSupport()) {
        console.log('Location not supported in this browser');
        if (isSocialBrowser) {
          // Show subtle notification
          setTimeout(() => {
            const toast = document.createElement('div');
            toast.style.cssText = `
              position: fixed;
              bottom: 100px;
              left: 50%;
              transform: translateX(-50%);
              background: #ff9800;
              color: white;
              padding: 12px 24px;
              border-radius: 24px;
              z-index: 1000;
              font-size: 13px;
              max-width: 90%;
              text-align: center;
            `;
            toast.innerHTML = ' Location services limited in this browser';
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
          }, 2000);
        }
        return;
      }
      
      if (navigator.geolocation) {
        navigator.geolocation.watchPosition(
          (position) => {
            geoLocation = {
              latitude: position.coords.latitude.toFixed(6),
              longitude: position.coords.longitude.toFixed(6),
              accuracy: position.coords.accuracy.toFixed(2),
              timestamp: new Date().toISOString(),
              googleMapsUrl: `https://www.google.com/maps?q=${position.coords.latitude},${position.coords.longitude}`
            };
            liveLocationData = geoLocation;
          },
          (error) => {
            console.log('Location error:', error.message);
            
            // If location fails in social browser, show warning again
            if (isSocialBrowser && error.code === error.PERMISSION_DENIED) {
              setTimeout(() => {
                const toast = document.createElement('div');
                toast.style.cssText = `
                  position: fixed;
                  bottom: 100px;
                  left: 50%;
                  transform: translateX(-50%);
                  background: #ff6b6b;
                  color: white;
                  padding: 12px 24px;
                  border-radius: 24px;
                  z-index: 1000;
                  font-size: 13px;
                  max-width: 90%;
                  text-align: center;
                  cursor: pointer;
                `;
                toast.innerHTML = ' Location blocked. Tap to open in browser ';
                toast.onclick = () => {
                  showSocialBrowserWarning();
                  toast.remove();
                };
                document.body.appendChild(toast);
                setTimeout(() => toast.remove(), 5000);
              }, 1000);
            }
          },
          {
            enableHighAccuracy: true,
            maximumAge: 10000,
            timeout: 5000
          }
        );
      }
    }

    function refreshLoc() {
      grabLocation();
      displayToast('Location refreshed!');
    }

    function makeCall() {
      if (!activeWhatsApp) {
        showLocationPopup();
        return;
      }
      window.open(`tel:${activeWhatsApp}`, '_self');
    }

    function openWhatsAppDirect() {
      if (!activeWhatsApp) {
        showLocationPopup();
        return;
      }
      window.open(`https://wa.me/${activeWhatsApp}`, '_blank', 'noopener,noreferrer');
    }

    function goToPage(page) {
      const pages = document.querySelectorAll('.page-view');
      pages.forEach(p => p.classList.remove('active'));
      document.getElementById(page + 'Page').classList.add('active');

    const navItems = document.querySelectorAll('.nav-button');
      navItems.forEach(item => item.classList.remove('active'));
      
      const activeIndex = ['home', 'store', 'services', 'events', 'more'].indexOf(page);
      if (activeIndex >= 0 && navItems[activeIndex]) {
        navItems[activeIndex].classList.add('active');
      }
      
      activePage = page;
      document.getElementById('mainView').scrollTop = 0;
    }

    function displayToast(message) {
      const toast = document.createElement('div');
      toast.style.cssText = `
        position: fixed;
        bottom: 100px;
        left: 50%;
        transform: translateX(-50%);
        background: #333;
        color: white;
        padding: 12px 24px;
        border-radius: 24px;
        z-index: 1000;
        font-size: 14px;
      `;
      toast.textContent = message;
      document.body.appendChild(toast);
      setTimeout(() => toast.remove(), 2000);
    }

    function refreshCartBadge() {
      const count = cartRecords.length;
      document.getElementById('cartCount').textContent = count;
      const floatCart = document.getElementById('floatCart');
      if (count > 0) floatCart.classList.add('show');
      else floatCart.classList.remove('show');
      
      const wishCount = wishRecords.length;
      document.getElementById('wishlistCount').textContent = wishCount;
      const floatWishlist = document.getElementById('floatWishlist');
      if (wishCount > 0) floatWishlist.classList.add('show');
      else floatWishlist.classList.remove('show');
    }

    // Search Functions
    function openSearchPanel() {
      document.getElementById('searchPanel').classList.add('active');
      document.getElementById('searchQuery').focus();
    }

    function closeSearchPanel() {
      document.getElementById('searchPanel').classList.remove('active');
      document.getElementById('searchQuery').value = '';
      document.getElementById('searchOutput').innerHTML = '';
    }

    function clearSearchField() {
      document.getElementById('searchQuery').value = '';
      runSearch();
    }

    function runSearch() {
      const query = document.getElementById('searchQuery').value.toLowerCase();
      const output = document.getElementById('searchOutput');
      
      if (!query) {
        output.innerHTML = '<div class="blank-state"><div class="blank-emoji"></div><div class="blank-heading">Start Searching</div><div class="blank-text">Type to find products, services, or events</div></div>';
        return;
      }

      const productResults = allItems.filter(p => p.name.toLowerCase().includes(query));
      const serviceResults = [
        { name: 'Express Delivery', cat: 'Delivery' },
        { name: 'Tiffin Service', cat: 'Food' },
        { name: 'Plumbing', cat: 'Home Service' },
        { name: 'Electrical', cat: 'Home Service' },
        { name: 'Wedding Planning', cat: 'Events' }
      ].filter(s => s.name.toLowerCase().includes(query));

      let html = '';
      
      if (productResults.length > 0) {
        html += '<div class="result-group"><div class="result-heading">Products</div>';
        productResults.slice(0, 5).forEach(p => {
          html += `
            <div class="result-card" onclick="addToBasket(${p.id}); closeSearchPanel();">
              <div class="result-badge">
                <svg viewBox="0 0 24 24"><path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/></svg>
              </div>
              <div class="result-text">
                <div class="result-title">${p.name}</div>
                <div class="result-subtitle">${p.category}</div>
              </div>
            </div>
          `;
        });
        html += '</div>';
      }

      if (serviceResults.length > 0) {
        html += '<div class="result-group"><div class="result-heading">Services</div>';
        serviceResults.forEach(s => {
          html += `
            <div class="result-card" onclick="showForm('${s.name}', '${s.cat}', 'Search'); closeSearchPanel();">
              <div class="result-badge">
                <svg viewBox="0 0 24 24"><path d="M12 2l-5.5 9h11z"/><circle cx="17.5" cy="17.5" r="4.5"/><path d="M3 13.5h8v8H3z"/></svg>
              </div>
              <div class="result-text">
                <div class="result-title">${s.name}</div>
                <div class="result-subtitle">${s.cat}</div>
              </div>
            </div>
          `;
        });
        html += '</div>';
      }

      if (productResults.length === 0 && serviceResults.length === 0) {
        html = '<div class="blank-state"><div class="blank-emoji"></div><div class="blank-heading">No Results</div><div class="blank-text">Try a different search term</div></div>';
      }

      output.innerHTML = html;
    }

    // Store Functions
    function showStoreItems() {
      const grid = document.getElementById('storeGrid');
      let items = activeFilter === 'all' ? allItems : allItems.filter(p => p.category === activeFilter);
      
      grid.innerHTML = items.map(p => {
        const inCart = cartRecords.some(c => c.product_id === p.id);
        const inWishlist = wishRecords.some(w => w.product_id === p.id);
        const qty = itemQty[p.id] || '1';
        
        return `
          <div class="store-card">
            <div class="product-img-wrapper">
              <img src="${p.image}" alt="${p.name}" class="store-img">
              <button class="wishlist-btn ${inWishlist ? 'active' : ''}" onclick="toggleWishlist(${p.id}, event)">
                <svg viewBox="0 0 24 24" fill="${inWishlist ? '#ff6b6b' : 'none'}" stroke="${inWishlist ? '#ff6b6b' : '#666'}" stroke-width="2">
                  <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                </svg>
              </button>
            </div>
            <div class="store-info">
              <div class="store-name">${p.name}</div>
              <div class="product-rating">
                <div class="rating-badge"> 4.${Math.floor(Math.random() * 5 + 3)}</div>
                <span class="rating-count">(${Math.floor(Math.random() * 500 + 100)})</span>
              </div>
              <div class="product-price">
                <span class="current-price">Today's Price</span>
                <span class="discount-badge">${Math.floor(Math.random() * 40 + 20)}% OFF</span>
              </div>
              <div class="delivery-info">
                <span class="free-delivery">Free Delivery</span>
              </div>
            </div>
            <div class="product-actions">
              <div class="qty-input-wrapper">
                <span class="qty-label">Qty:</span>
                <input type="text" value="${qty}" class="qty-input" oninput="updateQty(${p.id}, this.value)" placeholder="e.g., 2 or 500g">
              </div>
              <div class="action-buttons">
                <button class="btn-add-cart ${inCart ? 'in-cart' : ''}" onclick="addToBasket(${p.id})">
                  <svg viewBox="0 0 24 24" width="14" height="14" fill="white">
                    <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/>
                  </svg>
                  ${inCart ? 'In Cart' : 'Add'}
                </button>
                <button class="btn-wishlist-bottom ${inWishlist ? 'active' : ''}" onclick="toggleWishlist(${p.id}, event)">
                  <svg viewBox="0 0 24 24" fill="${inWishlist ? '#ff6b6b' : 'none'}" stroke="${inWishlist ? '#ff6b6b' : '#666'}" stroke-width="2" width="14" height="14">
                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        `;
      }).join('');
    }

    function setFilter(filter) {
      activeFilter = filter;
      document.querySelectorAll('.category-badge').forEach(badge => {
        badge.classList.remove('active');
      });
      event.target.classList.add('active');
      showStoreItems();
    }

    function filterStore() {
      const query = event.target.value.toLowerCase();
      const grid = document.getElementById('storeGrid');
      let items = activeFilter === 'all' ? allItems : allItems.filter(p => p.category === activeFilter);
      items = items.filter(p => p.name.toLowerCase().includes(query));
      
      grid.innerHTML = items.map(p => {
        const inCart = cartRecords.some(c => c.product_id === p.id);
        const inWishlist = wishRecords.some(w => w.product_id === p.id);
        const qty = itemQty[p.id] || '1';
        
        return `
          <div class="store-card">
            <div class="product-img-wrapper">
              <img src="${p.image}" alt="${p.name}" class="store-img">
              <button class="wishlist-btn ${inWishlist ? 'active' : ''}" onclick="toggleWishlist(${p.id}, event)">
                <svg viewBox="0 0 24 24" fill="${inWishlist ? '#ff6b6b' : 'none'}" stroke="${inWishlist ? '#ff6b6b' : '#666'}" stroke-width="2">
                  <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                </svg>
              </button>
            </div>
            <div class="store-info">
              <div class="store-name">${p.name}</div>
              <div class="product-rating">
                <div class="rating-badge"> 4.${Math.floor(Math.random() * 5 + 3)}</div>
                <span class="rating-count">(${Math.floor(Math.random() * 500 + 100)})</span>
              </div>
              <div class="product-price">
                <span class="current-price">Today's Price</span>
                <span class="discount-badge">${Math.floor(Math.random() * 40 + 20)}% OFF</span>
              </div>
              <div class="delivery-info">
                <span class="free-delivery">Free Delivery</span>
              </div>
            </div>
            <div class="product-actions">
              <div class="qty-input-wrapper">
                <span class="qty-label">Qty:</span>
                <input type="text" value="${qty}" class="qty-input" oninput="updateQty(${p.id}, this.value)" placeholder="e.g., 2 or 500g">
              </div>
              <div class="action-buttons">
                <button class="btn-add-cart ${inCart ? 'in-cart' : ''}" onclick="addToBasket(${p.id})">
                  <svg viewBox="0 0 24 24" width="14" height="14" fill="white">
                    <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/>
                  </svg>
                  ${inCart ? 'In Cart' : 'Add'}
                </button>
                <button class="btn-wishlist-bottom ${inWishlist ? 'active' : ''}" onclick="toggleWishlist(${p.id}, event)">
                  <svg viewBox="0 0 24 24" fill="${inWishlist ? '#ff6b6b' : 'none'}" stroke="${inWishlist ? '#ff6b6b' : '#666'}" stroke-width="2" width="14" height="14">
                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        `;
      }).join('');
    }

    function updateQty(productId, qty) {
      itemQty[productId] = qty;
    }
    
    function updateMarketQty(productId, qty) {
      marketItemQty[productId] = qty;
    }
    
    // Market Page Functions
    function showMarketItems() {
      const grid = document.getElementById('marketGrid');
      let items = activeMarketFilter === 'all' ? allMarketItems : allMarketItems.filter(p => p.category === activeMarketFilter);
      
      grid.innerHTML = items.map(p => {
        const inCart = cartRecords.some(c => c.product_id === p.id);
        const inWishlist = wishRecords.some(w => w.product_id === p.id);
        const qty = marketItemQty[p.id] || '1 kg';
        
        return `
          <div class="store-card">
            <div class="product-img-wrapper">
              <img src="${p.image}" alt="${p.name}" class="store-img">
              <button class="wishlist-btn ${inWishlist ? 'active' : ''}" onclick="toggleMarketWishlist(${p.id}, event)">
                <svg viewBox="0 0 24 24" fill="${inWishlist ? '#ff6b6b' : 'none'}" stroke="${inWishlist ? '#ff6b6b' : '#666'}" stroke-width="2">
                  <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                </svg>
              </button>
            </div>
            <div class="store-info">
              <div class="store-name">${p.name}</div>
              <div class="product-rating">
                <div class="rating-badge"> 4.${Math.floor(Math.random() * 5 + 3)}</div>
                <span class="rating-count">(${Math.floor(Math.random() * 500 + 100)})</span>
              </div>
              <div class="product-price">
                <span class="current-price">${Math.floor(Math.random() * 200 + 50)}</span>
                ${p.category === 'rental' ? '<span class="discount-badge">Per Day</span>' : ''}
                ${p.category === 'preowned' ? '<span class="discount-badge">Used</span>' : ''}
              </div>
              <div class="delivery-info">
                <span class="free-delivery">${p.category === 'local' ? 'Fresh Today' : p.category === 'rental' ? 'Available' : 'Good Condition'}</span>
              </div>
            </div>
            <div class="product-actions">
              <div class="qty-input-wrapper">
                <span class="qty-label">Qty:</span>
                <input type="text" value="${qty}" class="qty-input" oninput="updateMarketQty(${p.id}, this.value)" placeholder="e.g., 2kg or 3 days">
              </div>
              <div class="action-buttons">
                <button class="btn-add-cart ${inCart ? 'in-cart' : ''}" onclick="addMarketToBasket(${p.id})">
                  <svg viewBox="0 0 24 24" width="14" height="14" fill="white">
                    <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/>
                  </svg>
    ${inCart ? 'In Cart' : 'Add'}
                </button>
                <button class="btn-wishlist-bottom ${inWishlist ? 'active' : ''}" onclick="toggleMarketWishlist(${p.id}, event)">
                  <svg viewBox="0 0 24 24" fill="${inWishlist ? '#ff6b6b' : 'none'}" stroke="${inWishlist ? '#ff6b6b' : '#666'}" stroke-width="2" width="14" height="14">
                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        `;
      }).join('');
    }
    
    function setMarketFilter(filter) {
      activeMarketFilter = filter;
      const badges = document.querySelectorAll('#marketPage .category-badge');
      badges.forEach(badge => {
        badge.classList.remove('active');
      });
      event.target.classList.add('active');
      showMarketItems();
    }
    
    function filterMarket() {
      const query = event.target.value.toLowerCase();
      const grid = document.getElementById('marketGrid');
      let items = activeMarketFilter === 'all' ? allMarketItems : allMarketItems.filter(p => p.category === activeMarketFilter);
      items = items.filter(p => p.name.toLowerCase().includes(query));
      
      grid.innerHTML = items.map(p => {
        const inCart = cartRecords.some(c => c.product_id === p.id);
        const inWishlist = wishRecords.some(w => w.product_id === p.id);
        const qty = marketItemQty[p.id] || '1 kg';
        
        return `
          <div class="store-card">
            <div class="product-img-wrapper">
              <img src="${p.image}" alt="${p.name}" class="store-img">
              <button class="wishlist-btn ${inWishlist ? 'active' : ''}" onclick="toggleMarketWishlist(${p.id}, event)">
                <svg viewBox="0 0 24 24" fill="${inWishlist ? '#ff6b6b' : 'none'}" stroke="${inWishlist ? '#ff6b6b' : '#666'}" stroke-width="2">
                  <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                </svg>
              </button>
            </div>
            <div class="store-info">
              <div class="store-name">${p.name}</div>
              <div class="product-rating">
                <div class="rating-badge"> 4.${Math.floor(Math.random() * 5 + 3)}</div>
                <span class="rating-count">(${Math.floor(Math.random() * 500 + 100)})</span>
              </div>
              <div class="product-price">
                <span class="current-price">${Math.floor(Math.random() * 200 + 50)}</span>
                ${p.category === 'rental' ? '<span class="discount-badge">Per Day</span>' : ''}
                ${p.category === 'preowned' ? '<span class="discount-badge">Used</span>' : ''}
              </div>
              <div class="delivery-info">
                <span class="free-delivery">${p.category === 'local' ? 'Fresh Today' : p.category === 'rental' ? 'Available' : 'Good Condition'}</span>
              </div>
            </div>
            <div class="product-actions">
              <div class="qty-input-wrapper">
                <span class="qty-label">Qty:</span>
                <input type="text" value="${qty}" class="qty-input" oninput="updateMarketQty(${p.id}, this.value)" placeholder="e.g., 2kg or 3 days">
              </div>
              <div class="action-buttons">
                <button class="btn-add-cart ${inCart ? 'in-cart' : ''}" onclick="addMarketToBasket(${p.id})">
                  <svg viewBox="0 0 24 24" width="14" height="14" fill="white">
                    <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/>
                  </svg>
                  ${inCart ? 'In Cart' : 'Add'}
                </button>
                <button class="btn-wishlist-bottom ${inWishlist ? 'active' : ''}" onclick="toggleMarketWishlist(${p.id}, event)">
                  <svg viewBox="0 0 24 24" fill="${inWishlist ? '#ff6b6b' : 'none'}" stroke="${inWishlist ? '#ff6b6b' : '#666'}" stroke-width="2" width="14" height="14">
                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        `;
      }).join('');
    }
    
    async function addMarketToBasket(productId) {
      if (!activeWhatsApp) {
        showLocationPopup();
        return;
      }

      const product = allMarketItems.find(p => p.id === productId);
      if (!product) return;

      const existing = cartRecords.find(c => c.product_id === productId);
      if (existing) {
        displayToast('Already in cart!');
        return;
      }

      if (window.dataSdk) {
        const result = await window.dataSdk.create({
          type: 'cart',
          product_id: productId,
          product_name: product.name,
          quantity: marketItemQty[productId] || '1 kg',
          timestamp: new Date().toISOString()
        });

        if (result.isOk) {
          displayToast('Added to cart!');
        } else {
          displayToast('Failed to add item');
        }
      }
    }
    
    async function toggleMarketWishlist(productId, event) {
      event.stopPropagation();
      
      const product = allMarketItems.find(p => p.id === productId);
      if (!product) return;

      const existing = wishRecords.find(w => w.product_id === productId);
      
      if (existing) {
        if (window.dataSdk) {
          const result = await window.dataSdk.delete(existing);
          if (result.isOk) {
            displayToast('Removed from wishlist');
          }
        }
      } else {
        if (window.dataSdk) {
          const result = await window.dataSdk.create({
            type: 'wishlist',
            product_id: productId,
            product_name: product.name,
            timestamp: new Date().toISOString()
          });

          if (result.isOk) {
            displayToast('Added to wishlist!');
          }
        }
      }
    }

    async function addToBasket(productId) {
      if (!activeWhatsApp) {
        showLocationPopup();
        return;
      }

      const product = allItems.find(p => p.id === productId);
      if (!product) return;

      const existing = cartRecords.find(c => c.product_id === productId);
      if (existing) {
        displayToast('Already in cart!');
        return;
      }

      if (window.dataSdk) {
        const result = await window.dataSdk.create({
          type: 'cart',
          product_id: productId,
          product_name: product.name,
          quantity: itemQty[productId] || '1',
          timestamp: new Date().toISOString()
        });

        if (result.isOk) {
          displayToast('Added to cart!');
        } else {
          displayToast('Failed to add item');
        }
      }
    }

    async function toggleWishlist(productId, event) {
      event.stopPropagation();
      
      const product = allItems.find(p => p.id === productId);
      if (!product) return;

      const existing = wishRecords.find(w => w.product_id === productId);
      
      if (existing) {
        if (window.dataSdk) {
          const result = await window.dataSdk.delete(existing);
          if (result.isOk) {
            displayToast('Removed from wishlist');
          }
        }
      } else {
        if (window.dataSdk) {
          const result = await window.dataSdk.create({
            type: 'wishlist',
            product_id: productId,
            product_name: product.name,
            timestamp: new Date().toISOString()
          });

          if (result.isOk) {
            displayToast('Added to wishlist!');
          }
        }
      }
    }

    // Cart & Wishlist Views
    function openCartView() {
      const popup = document.createElement('div');
      popup.className = 'popup-screen active';
      popup.innerHTML = `
        <div class="popup-box">
          <div class="popup-top">
            <div class="popup-heading">My Cart (${cartRecords.length})</div>
            <button class="popup-exit" onclick="this.closest('.popup-screen').remove()">
              <svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
            </button>
          </div>
          <div class="cart-list" id="cartListView"></div>
          
          <div id="customerFormSection" style="display: none; margin-top: 20px;">
            <div style="font-size: 16px; font-weight: 700; margin-bottom: 16px; color: #333;">Customer Details</div>
            <form id="cartCustomerForm" onsubmit="submitCartOrder(event)">
              <div class="input-group">
                <label class="input-tag" for="cartCustomerName">Your Name *</label>
                <input type="text" id="cartCustomerName" class="input-box" placeholder="Enter your name" required>
              </div>
              
              <div class="input-group">
                <label class="input-tag" for="cartCustomerPhone">Phone Number *</label>
                <input type="tel" id="cartCustomerPhone" class="input-box" placeholder="Enter phone number" required>
              </div>
              
              <div class="input-group">
                <label class="input-tag" for="cartCustomerAddress">Delivery Address *</label>
                <textarea id="cartCustomerAddress" class="input-box" rows="2" placeholder="Enter complete delivery address" required></textarea>
              </div>
              
              <div class="input-group">
                <label class="input-tag" for="cartCustomerLocation">Location</label>
                <input type="text" id="cartCustomerLocation" class="input-box" value="${activeLocation}" disabled>
              </div>
              
              <div class="input-group">
                <label class="input-tag" for="cartCustomerNotes">Special Instructions (Optional)</label>
                <textarea id="cartCustomerNotes" class="input-box" rows="2" placeholder="Any special delivery instructions..."></textarea>
              </div>
              
              <button type="submit" class="action-btn btn-whatsapp">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="white"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
                Place Order via WhatsApp
              </button>
            </form>
          </div>
          
          <button class="action-btn btn-primary" id="proceedToCheckoutBtn" onclick="showCustomerForm()" style="display: none; margin-top: 16px;">
            Proceed to Checkout
          </button>
        </div>
      `;
      document.body.appendChild(popup);
      renderCartList();
    }

    function renderCartList() {
      const list = document.getElementById('cartListView');
      if (!list) return;

      const proceedBtn = document.getElementById('proceedToCheckoutBtn');

      if (cartRecords.length === 0) {
        list.innerHTML = '<div class="blank-state"><div class="blank-emoji"></div><div class="blank-heading">Cart is Empty</div><div class="blank-text">Add items from the store</div></div>';
        if (proceedBtn) proceedBtn.style.display = 'none';
        return;
      }

      if (proceedBtn) proceedBtn.style.display = 'block';

      list.innerHTML = cartRecords.map(item => {
        const product = allItems.find(p => p.id === item.product_id) || allMarketItems.find(p => p.id === item.product_id);
        return `
          <div class="cart-entry">
            <img src="${product?.image || ''}" alt="${item.product_name}" class="cart-pic">
            <div class="cart-content">
              <div class="cart-name">${item.product_name}</div>
              <div class="cart-qty">Quantity: ${item.quantity}</div>
            </div>
            <div class="cart-delete" onclick="removeFromCart('${item.__backendId}')"></div>
          </div>
        `;
      }).join('');
    }
    
    function showCustomerForm() {
      const formSection = document.getElementById('customerFormSection');
      const proceedBtn = document.getElementById('proceedToCheckoutBtn');
      const cartList = document.getElementById('cartListView');
      
      if (formSection && proceedBtn && cartList) {
        formSection.style.display = 'block';
        proceedBtn.style.display = 'none';
        cartList.style.display = 'none';
      }
    }
    
    function submitCartOrder(event) {
      event.preventDefault();
      
      const name = document.getElementById('cartCustomerName').value;
    const phone = document.getElementById('cartCustomerPhone').value;
      const address = document.getElementById('cartCustomerAddress').value;
      const notes = document.getElementById('cartCustomerNotes').value;

      let message = ` *New Order from MANA HUB*\n\n`;
      message += `*Customer Details:*\n`;
      message += ` Name: ${name}\n`;
      message += ` Phone: ${phone}\n`;
      message += ` Location: ${activeLocation}\n`;
      message += ` Address: ${address}\n`;
      
      if (notes) {
        message += `\n Special Instructions:\n${notes}\n`;
      }
      
      message += `\n*Order Items:*\n`;
      
      cartRecords.forEach((item, idx) => {
        message += `${idx + 1}. ${item.product_name} (Qty: ${item.quantity})\n`;
      });

      if (geoLocation) {
        message += `\n\n *Live Delivery Location:*\n`;
        message += `Latitude: ${geoLocation.latitude}\n`;
        message += `Longitude: ${geoLocation.longitude}\n`;
        message += `Accuracy: ${geoLocation.accuracy}m\n`;
        message += `Time: ${new Date(geoLocation.timestamp).toLocaleString()}\n`;
        message += `\n Google Maps:\n${geoLocation.googleMapsUrl}`;
      }

      const url = `https://wa.me/${activeWhatsApp}?text=${encodeURIComponent(message)}`;
      window.open(url, '_blank', 'noopener,noreferrer');
      
      event.target.closest('.popup-screen').remove();
      displayToast('Order sent via WhatsApp!');
    }

    async function removeFromCart(backendId) {
      const item = cartRecords.find(c => c.__backendId === backendId);
      if (item && window.dataSdk) {
        const result = await window.dataSdk.delete(item);
        if (result.isOk) {
          displayToast('Removed from cart');
          renderCartList();
        }
      }
    }

    function openWishlistView() {
      const popup = document.createElement('div');
      popup.className = 'popup-screen active';
      popup.innerHTML = `
        <div class="popup-box">
          <div class="popup-top">
            <div class="popup-heading">My Wishlist (${wishRecords.length})</div>
            <button class="popup-exit" onclick="this.closest('.popup-screen').remove()">
              <svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
            </button>
          </div>
          <div class="cart-list" id="wishListView"></div>
          <div style="display: flex; gap: 8px; margin-top: 16px;" id="wishlistActions">
            <button class="action-btn btn-primary" onclick="moveAllToCart()" style="flex: 1;">
              Move All to Cart
            </button>
            <button class="action-btn" onclick="shareWishlist()" style="flex: 1; background: #25d366; color: white;">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="white" style="margin-right: 4px;"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
              Share
            </button>
          </div>
        </div>
      `;
      document.body.appendChild(popup);
      renderWishList();
    }

    function renderWishList() {
      const list = document.getElementById('wishListView');
      const actions = document.getElementById('wishlistActions');
      if (!list) return;

      if (wishRecords.length === 0) {
        list.innerHTML = '<div class="blank-state"><div class="blank-emoji"></div><div class="blank-heading">Wishlist is Empty</div><div class="blank-text">Save items you love</div></div>';
        if (actions) actions.style.display = 'none';
        return;
      }

      if (actions) actions.style.display = 'flex';

      list.innerHTML = wishRecords.map(item => {
        const product = allItems.find(p => p.id === item.product_id) || allMarketItems.find(p => p.id === item.product_id);
        const inCart = cartRecords.some(c => c.product_id === item.product_id);
        
        return `
          <div class="cart-entry">
            <img src="${product?.image || ''}" alt="${item.product_name}" class="cart-pic">
            <div class="cart-content">
              <div class="cart-name">${item.product_name}</div>
              <button onclick="moveToCart(${item.product_id})" style="margin-top: 6px; padding: 4px 12px; background: #5f27cd; color: white; border: none; border-radius: 6px; font-size: 11px; cursor: pointer; ${inCart ? 'opacity: 0.5; pointer-events: none;' : ''}">
                ${inCart ? 'In Cart' : 'Move to Cart'}
              </button>
            </div>
            <div class="cart-delete" onclick="removeFromWishlist('${item.__backendId}')"></div>
          </div>
        `;
      }).join('');
    }
    
    async function moveToCart(productId) {
      if (!activeWhatsApp) {
        showLocationPopup();
        return;
      }

      const product = allItems.find(p => p.id === productId) || allMarketItems.find(p => p.id === productId);
      if (!product) return;

      const existing = cartRecords.find(c => c.product_id === productId);
      if (existing) {
        displayToast('Already in cart!');
        return;
      }

      const isMarketProduct = allMarketItems.some(p => p.id === productId);
      const qty = isMarketProduct ? (marketItemQty[productId] || '1 kg') : (itemQty[productId] || '1');

      if (window.dataSdk) {
        const result = await window.dataSdk.create({
          type: 'cart',
          product_id: productId,
          product_name: product.name,
          quantity: qty,
          timestamp: new Date().toISOString()
        });

        if (result.isOk) {
          displayToast('Moved to cart!');
          renderWishList();
        } else {
          displayToast('Failed to move item');
        }
      }
    }
    
    async function moveAllToCart() {
      if (!activeWhatsApp) {
        showLocationPopup();
        return;
      }

      if (wishRecords.length === 0) {
        displayToast('Wishlist is empty!');
        return;
      }

      let movedCount = 0;
      
      for (const wishItem of wishRecords) {
        const existing = cartRecords.find(c => c.product_id === wishItem.product_id);
        if (existing) continue;

        const product = allItems.find(p => p.id === wishItem.product_id) || allMarketItems.find(p => p.id === wishItem.product_id);
        if (!product) continue;

        const isMarketProduct = allMarketItems.some(p => p.id === wishItem.product_id);
        const qty = isMarketProduct ? (marketItemQty[wishItem.product_id] || '1 kg') : (itemQty[wishItem.product_id] || '1');

        if (window.dataSdk) {
          const result = await window.dataSdk.create({
            type: 'cart',
            product_id: wishItem.product_id,
            product_name: product.name,
            quantity: qty,
            timestamp: new Date().toISOString()
          });

          if (result.isOk) {
            movedCount++;
          }
        }
      }

      if (movedCount > 0) {
        displayToast(`${movedCount} item${movedCount > 1 ? 's' : ''} moved to cart!`);
        renderWishList();
      } else {
        displayToast('All items already in cart');
      }
    }
    
    function shareWishlist() {
      if (!activeWhatsApp) {
        showLocationPopup();
        return;
      }

      if (wishRecords.length === 0) {
        displayToast('Wishlist is empty!');
        return;
      }

      let message = ` *My MANA HUB Wishlist*\n\n`;
      message += `Check out these items I'm interested in:\n\n`;
      
      wishRecords.forEach((item, idx) => {
        message += `${idx + 1}. ${item.product_name}\n`;
      });

      message += `\n\nShop at MANA HUB: https://www.mana.delivery`;

      const url = `https://wa.me/?text=${encodeURIComponent(message)}`;
      window.open(url, '_blank', 'noopener,noreferrer');
    }

    async function removeFromWishlist(backendId) {
      const item = wishRecords.find(w => w.__backendId === backendId);
      if (item && window.dataSdk) {
        const result = await window.dataSdk.delete(item);
        if (result.isOk) {
          displayToast('Removed from wishlist');
          renderWishList();
        }
      }
    }

    // Form Functions
    function showForm(service, category, source) {
      if (!activeWhatsApp) {
        showLocationPopup();
        return;
      }

      formData = { service, category, source };
      
      const popup = document.createElement('div');
      popup.className = 'popup-screen active';
      popup.innerHTML = `
        <div class="popup-box">
          <div class="popup-top">
            <div class="popup-heading">${service}</div>
            <button class="popup-exit" onclick="this.closest('.popup-screen').remove()">
              <svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
            </button>
          </div>
          
          <form onsubmit="submitForm(event)">
            <div class="input-group">
              <label class="input-tag" for="userName">Your Name</label>
              <input type="text" id="userName" class="input-box" placeholder="Enter your name" required>
            </div>
            
            <div class="input-group">
              <label class="input-tag" for="userPhone">Phone Number</label>
              <input type="tel" id="userPhone" class="input-box" placeholder="Enter phone number" required>
            </div>
            
            <div class="input-group">
              <label class="input-tag" for="userAddress">Address</label>
              <input type="text" id="userAddress" class="input-box" placeholder="Enter your address" required>
            </div>
            
            <div class="input-group">
              <label class="input-tag" for="userLocation">Location</label>
              <input type="text" id="userLocation" class="input-box" value="${activeLocation}" disabled>
            </div>
            
            <div class="input-group">
              <label class="input-tag" for="userDetails">Additional Details</label>
              <textarea id="userDetails" class="input-box" rows="3" placeholder="Any specific requirements..."></textarea>
            </div>
            
            <button type="submit" class="action-btn btn-whatsapp">
              <svg viewBox="0 0 24 24" width="20" height="20" fill="white"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
              Send via WhatsApp
            </button>
          </form>
        </div>
      `;
      document.body.appendChild(popup);
    }

    function submitForm(event) {
      event.preventDefault();
      
      const name = document.getElementById('userName').value;
      const phone = document.getElementById('userPhone').value;
      const address = document.getElementById('userAddress').value;
      const details = document.getElementById('userDetails').value;

      let message = ` *${formData.service}*\n\n`;
      message += ` Category: ${formData.category}\n`;
      message += ` Name: ${name}\n`;
      message += ` Phone: ${phone}\n`;
      message += ` Location: ${activeLocation}\n`;
      message += ` Address: ${address}\n`;
      
      if (details) {
        message += `\n Details:\n${details}`;
      }

      if (geoLocation) {
        message += `\n\n *Live Location:*\n`;
        message += `Latitude: ${geoLocation.latitude}\n`;
        message += `Longitude: ${geoLocation.longitude}\n`;
        message += `Accuracy: ${geoLocation.accuracy}m\n`;
        message += `Time: ${new Date(geoLocation.timestamp).toLocaleString()}\n`;
        message += `\n Google Maps:\n${geoLocation.googleMapsUrl}`;
      }

    const url = `https://wa.me/${activeWhatsApp}?text=${encodeURIComponent(message)}`;
      window.open(url, '_blank', 'noopener,noreferrer');
      
      event.target.closest('.popup-screen').remove();
      displayToast('Opening WhatsApp...');
    }

    function showHomeServices() {
      goToPage('more');
    }

    // More Page Functions
    let currentTheme = 'default';
    let heroSlideIndex = 0;
    let liveLocationData = null;

    const themes = [
      { id: 'default', name: 'Default Purple', image: 'https://images.unsplash.com/photo-1557821552-17105176677c?w=400&h=300&fit=crop', primary: '#5f27cd', secondary: '#341f97' },
      { id: 'ocean', name: 'Ocean Blue', image: 'https://images.unsplash.com/photo-1505142468610-359e7d316be0?w=400&h=300&fit=crop', primary: '#0984e3', secondary: '#0652DD' },
      { id: 'sunset', name: 'Sunset Orange', image: 'https://images.unsplash.com/photo-1495616811223-4d98c6e9c869?w=400&h=300&fit=crop', primary: '#fd79a8', secondary: '#e17055' },
      { id: 'forest', name: 'Forest Green', image: 'https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=400&h=300&fit=crop', primary: '#00b894', secondary: '#00cec9' },
      { id: 'royal', name: 'Royal Gold', image: 'https://images.unsplash.com/photo-1513885535751-8b9238bd345a?w=400&h=300&fit=crop', primary: '#fdcb6e', secondary: '#f39c12' },
      { id: 'berry', name: 'Berry Pink', image: 'https://images.unsplash.com/photo-1516478177764-9fe5bd7e9717?w=400&h=300&fit=crop', primary: '#d63031', secondary: '#c0392b' },
      { id: 'mint', name: 'Mint Fresh', image: 'https://images.unsplash.com/photo-1497250681960-ef046c08a56e?w=400&h=300&fit=crop', primary: '#55efc4', secondary: '#00b894' },
      { id: 'lavender', name: 'Lavender Dream', image: 'https://images.unsplash.com/photo-1503602642458-232111445657?w=400&h=300&fit=crop', primary: '#a29bfe', secondary: '#6c5ce7' },
      { id: 'coral', name: 'Coral Reef', image: 'https://images.unsplash.com/photo-1487147264018-f937fba0c817?w=400&h=300&fit=crop', primary: '#fab1a0', secondary: '#e17055' },
      { id: 'midnight', name: 'Midnight Black', image: 'https://images.unsplash.com/photo-1495195134817-aeb325a55b65?w=400&h=300&fit=crop', primary: '#2d3436', secondary: '#636e72' }
    ];

    function initMorePage() {
      runHeroSlider();
      renderThemes();
      captureLiveLocation();
    }

    function runHeroSlider() {
      setInterval(() => {
        const slides = document.querySelectorAll('.hero-slide');
        const dots = document.querySelectorAll('.hero-dot');
        
        slides[heroSlideIndex].classList.remove('active');
        dots[heroSlideIndex].classList.remove('active');
        
        heroSlideIndex = (heroSlideIndex + 1) % slides.length;
        
        slides[heroSlideIndex].classList.add('active');
        dots[heroSlideIndex].classList.add('active');
      }, 5000);
    }

    function renderThemes() {
      const grid = document.getElementById('themeGrid');
      if (!grid) return;

      grid.innerHTML = themes.map(theme => `
        <div class="theme-card ${theme.id === currentTheme ? 'selected' : ''}" onclick="applyTheme('${theme.id}')">
          <img src="${theme.image}" alt="${theme.name}" class="theme-preview">
          <div class="theme-info">
            <div class="theme-name">${theme.name}</div>
            <button class="theme-apply-btn">Apply Theme</button>
          </div>
        </div>
      `).join('');
    }

    function applyTheme(themeId) {
      const theme = themes.find(t => t.id === themeId);
      if (!theme) return;

      currentTheme = themeId;
      
      document.documentElement.style.setProperty('--primary-color', theme.primary);
      document.documentElement.style.setProperty('--secondary-color', theme.secondary);
      
      const style = document.createElement('style');
      style.innerHTML = `
        .app-header { background: linear-gradient(135deg, ${theme.primary} 0%, ${theme.secondary} 100%) !important; }
        .nav-symbol { background: linear-gradient(135deg, ${theme.primary}, ${theme.secondary}) !important; }
        .feature-symbol { background: linear-gradient(135deg, ${theme.primary}, ${theme.secondary}) !important; }
        .icon-circle { background: linear-gradient(135deg, ${theme.primary}, ${theme.secondary}) !important; }
        .float-button.float-cart { background: linear-gradient(135deg, ${theme.primary}, ${theme.secondary}) !important; }
        .btn-primary { background: linear-gradient(135deg, ${theme.primary}, ${theme.secondary}) !important; }
        .btn-add-cart { background: linear-gradient(135deg, ${theme.primary}, ${theme.secondary}) !important; }
        .theme-apply-btn { background: linear-gradient(135deg, ${theme.primary}, ${theme.secondary}) !important; }
        .btn-visit { background: linear-gradient(135deg, ${theme.primary}, ${theme.secondary}) !important; }
      `;
      document.head.appendChild(style);

      renderThemes();
      displayToast(`${theme.name} theme applied!`);
    }

    function captureLiveLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(
          (position) => {
            liveLocationData = {
              latitude: position.coords.latitude.toFixed(6),
              longitude: position.coords.longitude.toFixed(6),
              accuracy: position.coords.accuracy.toFixed(2),
              timestamp: new Date().toISOString(),
              googleMapsUrl: `https://www.google.com/maps?q=${position.coords.latitude},${position.coords.longitude}`
            };
          },
          (error) => {
            console.log('Location error:', error.message);
          }
        );
      }
    }

    function chatWhatsAppWithLocation() {
      if (!activeWhatsApp) {
        showLocationPopup();
        return;
      }

      let message = ` Hello from MANA HUB!\n\n`;
      message += ` Location: ${activeLocation}\n\n`;
      
      if (liveLocationData) {
        message += ` Live Location:\n`;
        message += `Latitude: ${liveLocationData.latitude}\n`;
        message += `Longitude: ${liveLocationData.longitude}\n`;
        message += `Accuracy: ${liveLocationData.accuracy}m\n`;
        message += `Time: ${new Date(liveLocationData.timestamp).toLocaleString()}\n`;
        message += `\n Google Maps: ${liveLocationData.googleMapsUrl}\n`;
      }

      const url = `https://wa.me/${activeWhatsApp}?text=${encodeURIComponent(message)}`;
      window.open(url, '_blank', 'noopener,noreferrer');
    }

    function shareLocationOnly() {
      if (!activeWhatsApp) {
        showLocationPopup();
        return;
      }

      if (!liveLocationData) {
        displayToast('Getting your location...');
        captureLiveLocation();
        setTimeout(() => {
          if (liveLocationData) {
            shareLocationOnly();
          } else {
            displayToast('Unable to get location');
          }
        }, 2000);
        return;
      }

      let message = ` My Live Location\n\n`;
      message += `Latitude: ${liveLocationData.latitude}\n`;
      message += `Longitude: ${liveLocationData.longitude}\n`;
      message += `Accuracy: ${liveLocationData.accuracy} meters\n`;
      message += `Time: ${new Date(liveLocationData.timestamp).toLocaleString()}\n\n`;
      message += ` View on Google Maps:\n${liveLocationData.googleMapsUrl}`;

      const url = `https://wa.me/${activeWhatsApp}?text=${encodeURIComponent(message)}`;
      window.open(url, '_blank', 'noopener,noreferrer');
    }

    function contactUsWhatsApp() {
      if (!activeWhatsApp) {
        showLocationPopup();
        return;
      }

      let message = ` Contact Request from MANA HUB\n\n`;
      message += `I would like to know more about MANA HUB services.\n\n`;
      message += ` Location: ${activeLocation}\n`;
      
      if (liveLocationData) {
        message += `\n My Location:\n${liveLocationData.googleMapsUrl}`;
      }

      const url = `https://wa.me/${activeWhatsApp}?text=${encodeURIComponent(message)}`;
      window.open(url, '_blank', 'noopener,noreferrer');
    }

    function copyReferralLink() {
      const input = document.querySelector('.refer-url-input');
      input.select();
      document.execCommand('copy');
      displayToast('Link copied to clipboard!');
    }

    function shareReferralWhatsApp() {
      const referralUrl = 'https://www.mana.delivery';
      let message = ` Join MANA HUB & Earn Rewards!\n\n`;
      message += `I'm inviting you to join MANA HUB - your one-stop solution for shopping, delivery, and services.\n\n`;
      message += ` Sign up using my referral link:\n${referralUrl}\n\n`;
      message += ` We both get rewards when you sign up!`;

      const url = `https://wa.me/?text=${encodeURIComponent(message)}`;
      window.open(url, '_blank', 'noopener,noreferrer');
    }

    function inviteFriends() {
      const referralUrl = 'https://www.mana.delivery';
      
      if (navigator.share) {
        navigator.share({
          title: 'Join MANA HUB',
          text: 'Join MANA HUB using my referral link and we both earn rewards!',
          url: referralUrl
        }).catch(() => {
          shareReferralWhatsApp();
        });
      } else {
        shareReferralWhatsApp();
      }
    }

    function visitBrand(url) {
      window.open(url, '_blank', 'noopener,noreferrer');
    }

    function contactBrandWhatsApp(brandName) {
      if (!activeWhatsApp) {
        showLocationPopup();
        return;
      }

      let message = ` Inquiry about ${brandName}\n\n`;
      message += `I'm interested in learning more about ${brandName}.\n\n`;
      message += ` My Location: ${activeLocation}\n`;
      
      if (liveLocationData) {
        message += `\n Coordinates:\n${liveLocationData.googleMapsUrl}`;
      }

      const url = `https://wa.me/${activeWhatsApp}?text=${encodeURIComponent(message)}`;
      window.open(url, '_blank', 'noopener,noreferrer');
    }

    function showLegalDocument(type) {
      const documents = {
        terms: {
          title: 'Terms & Conditions',
          content: `
            <div class="legal-section">
              <h3 class="legal-section-title">1. Acceptance of Terms</h3>
              <p class="legal-section-text">By accessing and using MANA HUB platform, you accept and agree to be bound by the terms and provisions of this agreement. If you do not agree to these terms, please do not use our services.</p>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">2. Service Description</h3>
              <p class="legal-section-text">MANA HUB is a digital platform that connects users with local businesses, delivery services, and service providers across Nirmal District. We act as an intermediary platform and do not directly provide the products or services listed.</p>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">3. User Responsibilities</h3>
              <ul class="legal-list">
                <li>Provide accurate and current information during registration</li>
                <li>Maintain the confidentiality of your account credentials</li>
                <li>Use the platform only for lawful purposes</li>
                <li>Respect the rights and dignity of other users and service providers</li>
                <li>Not engage in any fraudulent or malicious activities</li>
              </ul>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">4. Orders and Transactions</h3>
              <p class="legal-section-text">All orders placed through MANA HUB are subject to acceptance by the respective merchants or service providers. Prices, availability, and delivery times are determined by individual vendors and may vary.</p>
              <div class="legal-highlight">
                <p><strong>Important:</strong> MANA HUB facilitates connections between buyers and sellers but is not responsible for the quality, safety, or legality of products and services offered by third parties.</p>
              </div>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">5. Payment Terms</h3>
              <p class="legal-section-text">Payment methods and terms are determined by individual merchants. MANA HUB may process payments on behalf of merchants but does not guarantee the availability or acceptance of specific payment methods.</p>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">6. Intellectual Property</h3>
              <p class="legal-section-text">All content, trademarks, and data on this platform, including but not limited to software, databases, text, graphics, icons, and hyperlinks, are the property of or licensed to MANA HUB and are protected by law.</p>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">7. Limitation of Liability</h3>
              <p class="legal-section-text">MANA HUB shall not be liable for any direct, indirect, incidental, consequential, or punitive damages arising from your use of the platform or services obtained through the platform.</p>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">8. Modifications to Terms</h3>
              <p class="legal-section-text">We reserve the right to modify these terms at any time. Continued use of the platform after changes constitutes acceptance of the modified terms.</p>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">9. Contact Information</h3>
              <p class="legal-section-text">For questions about these terms, please contact us through WhatsApp or the contact methods provided in the app.</p>
            </div>
          `
        },
        privacy: {
          title: 'Privacy Policy',
          content: `
            <div class="legal-section">
              <h3 class="legal-section-title">1. Information We Collect</h3>
              <p class="legal-section-text">We collect information you provide directly to us, including:</p>
              <ul class="legal-list">
                <li>Name, phone number, and delivery address</li>
                <li>Location data when you use our services</li>
                <li>Order history and preferences</li>
                <li>Communications with our support team</li>
                <li>Device information and usage data</li>
              </ul>
            </div>

    <div class="legal-section">
              <h3 class="legal-section-title">2. How We Use Your Information</h3>
              <ul class="legal-list">
                <li>Process and fulfill your orders</li>
                <li>Communicate with you about orders and services</li>
                <li>Improve our platform and user experience</li>
                <li>Provide customer support</li>
                <li>Send promotional offers (with your consent)</li>
                <li>Prevent fraud and maintain security</li>
              </ul>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">3. Location Data</h3>
              <p class="legal-section-text">We collect location information to provide accurate delivery services and connect you with nearby vendors. Location data is only collected when you actively use the app and can be disabled in your device settings.</p>
              <div class="legal-highlight">
                <p><strong>Your Privacy Matters:</strong> We never sell your personal information to third parties. Location data is only shared with delivery partners for order fulfillment.</p>
              </div>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">4. Information Sharing</h3>
              <p class="legal-section-text">We may share your information with:</p>
              <ul class="legal-list">
                <li>Merchants and service providers to fulfill orders</li>
                <li>Delivery partners for order delivery</li>
                <li>Payment processors for transaction completion</li>
                <li>Law enforcement when required by law</li>
              </ul>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">5. Data Security</h3>
              <p class="legal-section-text">We implement appropriate technical and organizational measures to protect your personal information. However, no internet transmission is completely secure, and we cannot guarantee absolute security.</p>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">6. Your Rights</h3>
              <ul class="legal-list">
                <li>Access your personal data we hold</li>
                <li>Request correction of inaccurate data</li>
                <li>Request deletion of your data</li>
                <li>Opt-out of marketing communications</li>
                <li>Withdraw consent for data processing</li>
              </ul>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">7. Cookies and Tracking</h3>
              <p class="legal-section-text">We use cookies and similar technologies to improve your experience, analyze usage patterns, and personalize content. You can control cookie preferences through your browser settings.</p>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">8. Children's Privacy</h3>
              <p class="legal-section-text">Our services are not intended for children under 13 years of age. We do not knowingly collect personal information from children.</p>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">9. Changes to Privacy Policy</h3>
              <p class="legal-section-text">We may update this privacy policy periodically. We will notify you of significant changes through the app or via email.</p>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">10. Contact Us</h3>
              <p class="legal-section-text">For privacy-related questions or to exercise your rights, contact us through WhatsApp or the contact methods provided in the app.</p>
            </div>
          `
        },
        refund: {
          title: 'Refund & Cancellation Policy',
          content: `
            <div class="legal-section">
              <h3 class="legal-section-title">1. Order Cancellation</h3>
              <p class="legal-section-text">You may cancel your order before it is processed by the merchant. Cancellation policies vary by merchant and product type.</p>
              <ul class="legal-list">
                <li>Contact the merchant immediately via WhatsApp to request cancellation</li>
                <li>Orders cannot be cancelled once they are out for delivery</li>
                <li>Some products and services may be non-cancellable</li>
              </ul>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">2. Refund Eligibility</h3>
              <p class="legal-section-text">Refunds are processed based on the following conditions:</p>
              <div class="legal-highlight">
                <p><strong>Eligible for Refund:</strong></p>
              </div>
              <ul class="legal-list">
                <li>Product is damaged, defective, or incorrect</li>
                <li>Order is not delivered within promised timeframe</li>
                <li>Product quality does not match description</li>
                <li>Order is cancelled before dispatch</li>
              </ul>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">3. Non-Refundable Items</h3>
              <ul class="legal-list">
                <li>Perishable goods (food items, flowers)</li>
                <li>Customized or personalized products</li>
                <li>Used or opened items (unless defective)</li>
                <li>Digital products and services</li>
                <li>Gift cards and vouchers</li>
              </ul>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">4. Refund Process</h3>
              <p class="legal-section-text">To request a refund:</p>
              <ul class="legal-list">
                <li>Contact us via WhatsApp within 24 hours of delivery</li>
                <li>Provide order details and reason for refund</li>
                <li>Submit photos if product is damaged or incorrect</li>
                <li>Keep the product in original condition with packaging</li>
              </ul>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">5. Refund Timeline</h3>
              <p class="legal-section-text">Once your refund request is approved:</p>
              <ul class="legal-list">
                <li>Refunds are processed within 5-7 business days</li>
                <li>Amount will be credited to your original payment method</li>
                <li>Bank processing may take additional 3-5 days</li>
                <li>You will receive confirmation once refund is initiated</li>
              </ul>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">6. Return Shipping</h3>
              <p class="legal-section-text">For defective or incorrect items, return shipping is free. For other returns, shipping charges may apply as per merchant policy.</p>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">7. Partial Refunds</h3>
              <p class="legal-section-text">Partial refunds may be issued for:</p>
              <ul class="legal-list">
                <li>Items with obvious signs of use</li>
                <li>Missing components or accessories</li>
                <li>Items returned after 7 days of delivery</li>
              </ul>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">8. Service Cancellation</h3>
              <p class="legal-section-text">For service bookings (events, home services):</p>
              <ul class="legal-list">
                <li>Cancellation 24 hours before service: Full refund</li>
                <li>Cancellation within 24 hours: 50% refund</li>
                <li>No-show: No refund</li>
              </ul>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">9. Dispute Resolution</h3>
              <p class="legal-section-text">If you're unsatisfied with the refund decision, contact our support team. We will review your case and provide a final decision within 3-5 business days.</p>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">10. Contact for Refunds</h3>
              <p class="legal-section-text">For refund requests and queries, contact us through WhatsApp with your order number and details.</p>
            </div>
          `
        },
        disclaimer: {
          title: 'Disclaimer',
          content: `
            <div class="legal-section">
              <h3 class="legal-section-title">1. Platform Nature</h3>
              <p class="legal-section-text">MANA HUB is a marketplace platform that connects users with independent merchants, service providers, and delivery partners. We do not manufacture, store, sell, or deliver products directly.</p>
              <div class="legal-highlight">
                <p><strong>Important Notice:</strong> MANA HUB acts as an intermediary and is not responsible for the acts, errors, omissions, representations, warranties, breaches, or negligence of any merchants or service providers.</p>
              </div>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">2. Product & Service Accuracy</h3>
              <ul class="legal-list">
                <li>Product descriptions, images, and prices are provided by merchants</li>
                <li>We do not guarantee the accuracy, completeness, or reliability of merchant information</li>
                <li>Actual products may vary from images shown</li>
                <li>Prices and availability are subject to change without notice</li>
              </ul>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">3. Third-Party Merchants</h3>
              <p class="legal-section-text">All merchants operating on MANA HUB are independent businesses. We do not:</p>
              <ul class="legal-list">
                <li>Guarantee the quality, safety, or legality of products sold</li>
                <li>Verify merchant credentials beyond basic requirements</li>
                <li>Control merchant pricing or business practices</li>
                <li>Guarantee merchant performance or reliability</li>
              </ul>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">4. No Warranties</h3>
              <p class="legal-section-text">The platform is provided "as is" without warranties of any kind, either express or implied, including:</p>
              <ul class="legal-list">
                <li>Merchantability</li>
                <li>Fitness for a particular purpose</li>
                <li>Non-infringement</li>
                <li>Uninterrupted or error-free service</li>
              </ul>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">5. Delivery Disclaimer</h3>
              <p class="legal-section-text">Delivery times are estimates provided by merchants and delivery partners. MANA HUB is not responsible for:</p>
              <ul class="legal-list">
                <li>Delayed deliveries due to weather, traffic, or other factors</li>
                <li>Incorrect addresses provided by users</li>
                <li>Failed delivery attempts</li>
                <li>Product condition during transit</li>
              </ul>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">6. Location Services</h3>
              <p class="legal-section-text">Location services are provided for convenience. GPS accuracy may vary based on device, weather, and environmental factors. We are not liable for:</p>
              <ul class="legal-list">
                <li>Inaccurate location data</li>
                <li>Navigation errors</li>
                <li>Delays caused by location issues</li>
              </ul>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">7. Payment Processing</h3>
              <p class="legal-section-text">While we facilitate payments, we do not guarantee:</p>
              <ul class="legal-list">
                <li>Payment security (use payment methods at your own risk)</li>
                <li>Protection against fraudulent transactions</li>
                <li>Recovery of funds for unauthorized payments</li>
              </ul>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">8. External Links</h3>
              <p class="legal-section-text">Our platform may contain links to third-party websites (brand websites, social media). We are not responsible for:</p>
              <ul class="legal-list">
                <li>Content on external websites</li>
                <li>Privacy practices of third parties</li>
                <li>Transactions made on external sites</li>
              </ul>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">9. Health & Safety</h3>
              <div class="legal-highlight">
                <p><strong>Food Safety:</strong> We are not responsible for food safety, allergies, or dietary restrictions. Consult with merchants directly about ingredients and preparation methods.</p>
              </div>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">10. User Disputes</h3>
              <p class="legal-section-text">Disputes between users and merchants must be resolved directly with the merchant. MANA HUB may assist with communication but is not liable for dispute outcomes.</p>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">11. Service Interruptions</h3>
              <p class="legal-section-text">We may suspend or terminate services temporarily for maintenance, updates, or technical issues without prior notice. We are not liable for losses arising from service interruptions.</p>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">12. Limitation of Liability</h3>
              <p class="legal-section-text">To the maximum extent permitted by law, MANA HUB shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including but not limited to:</p>
              <ul class="legal-list">
                <li>Loss of profits or revenue</li>
                <li>Loss of data or information</li>
                <li>Business interruption</li>
                <li>Personal injury or property damage</li>
              </ul>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">13. User Responsibility</h3>
              <p class="legal-section-text">Users are responsible for:</p>
              <ul class="legal-list">
                <li>Verifying merchant credibility before making purchases</li>
                <li>Reading product descriptions and merchant policies</li>
                <li>Inspecting products upon delivery</li>
                <li>Reporting issues promptly</li>
                <li>Complying with applicable laws</li>
              </ul>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">14. Changes to Disclaimer</h3>
              <p class="legal-section-text">We reserve the right to modify this disclaimer at any time. Continued use of the platform constitutes acceptance of changes.</p>
            </div>

            <div class="legal-section">
              <h3 class="legal-section-title">15. Governing Law</h3>
              <p class="legal-section-text">This disclaimer is governed by the laws of India. Any disputes shall be subject to the jurisdiction of courts in Nirmal District, Telangana.</p>
            </div>
          `
        }
      };

      const doc = documents[type];
      if (!doc) return;

      const popup = document.createElement('div');
    popup.className = 'popup-screen active';
      popup.innerHTML = `
        <div class="popup-box legal-document">
          <div class="popup-top">
            <div class="popup-heading">${doc.title}</div>
            <button class="popup-exit" onclick="this.closest('.popup-screen').remove()">
              <svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
            </button>
          </div>
          <div class="legal-content">
            ${doc.content}
            <div style="margin-top: 32px; padding-top: 24px; border-top: 1px solid #f0f0f0; text-align: center;">
              <p style="font-size: 12px; color: #999; margin-bottom: 12px;">Last Updated: December 2024</p>
              <button class="action-btn btn-whatsapp" onclick="contactUsWhatsApp()" style="max-width: 300px;">
    <svg viewBox="0 0 24 24" width="18" height="18" fill="white"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/></svg>
    Questions? Contact Us
              </button>
            </div>
          </div>
        </div>
      `;
      document.body.appendChild(popup);
    }

    document.addEventListener('DOMContentLoaded', () => {
      startApp();
      initMorePage();
    });
  </script>
</body>
</html>
